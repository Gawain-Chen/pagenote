{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/document.js","webpack:///./src/index.js","webpack:///./src/easyshare.js","webpack:///./node_modules/_whats-element@1.1.1@whats-element/pure.js","webpack:///./src/widget.js","webpack:///./node_modules/_hyperapp@1.2.9@hyperapp/src/index.js","webpack:///./src/widget.css","webpack:///./node_modules/_whats-element@1.1.1@whats-element/src/helper.js","webpack:///./node_modules/_whats-element@1.1.1@whats-element/src/whatsElementPure.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getXY","window","e","touch","touches","changedTouches","x","pageX","y","pageY","event","clientX","getScroll","clientY","documentTarget","document","documentElement","body","pageXOffset","scrollLeft","pageYOffset","scrollTop","gotoPosition","targetX","targetY","callback","timer","setInterval","_getScroll","beforeScrollLeft","beforeScrollTop","scrollTo","setScroll","_getScroll2","afterScrollLeft","clearInterval","hightLightElement","element","text","hightlight","highlightElements","querySelectorAll","length","ele","originText","dataset","innerHTML","outerHTML","highlightbk","highlight","node","reg","nodeType","match","data","RegExp","highlightEl","createElement","wordNode","splitText","index","wordClone","cloneNode","appendChild","parentNode","replaceChild","childNodes","test","tagName","replace","getViewPosition","elem","box","getBoundingClientRect","top","left","EasyShare","id","options","easy","easyshare","_widget2","default","_document","whats","whatsPure","_this","this","assign","playSetting","auto","dura","maxMarkNumber","stepSplit","valueSplit","blacklist","saveInURL","recordedSteps","runindex","NULL","target","url","location","href","status","nextTimer","runningTimer","targetInfo","CALLBACKFUN","UNDEFINED","undefined","constant","CONSTANT","OPTIONS","splitStep","splitValue","webPlaySetting","nameid","ID","numberAfter","numberCode","andCode","andAfter","NOCODE","S","blackNodes","formatSearch","inputSearch","search","searchObject","searchNames","searchArray","decodeURI","substr","split","queryPar","push","levent","handleUp","position","selection","getSelection","targetElment","anchorNode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","contains","err","return","selectdText","toString","trim","WAITING","substring","tip","getUniqueId","wid","REPLAYING","PLAYANDWAIT","PAUSE","addEventListener","onselectionchange","_getXY","init","initData","stepsString","playsetting","forEach","values","tempStep","READY","set","keyvalue","replay","makelink","setTimeout","elementid","white","getTarget","addListener","fun","record","forceRecord","maxNn","alert","RECORDING","storeResult","result","isActive","RECORDED","msg","splice","RECORDFAIL","remove","stepIndex","goto","autoNext","replaySteps","timeout","_this2","runStep","DONE","targetEl","clearTimeout","innerWidth","innerHeight","_formatSearch","originSearch","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","entries","_ref","_ref2","_slicedToArray","indexOf","share","step","keyindex","code","Error","finalQuery","protocol","host","pathname","hash","history","pushState","SYNCED","message","FINNISHED","version","whatsElement","state","steps","ballPos","showBall","showMenu","actions","refershState","setBallPos","toggleShowBall","toggleMenu","toggleAllLight","highlightAll","RecordButton","onclick","_hyperapp","h","Menu","style","visibility","right","className","menu","viewBox","width","height","aria-hidden","fill-rule","menuContainer","close","getElementById","focus","setSelectionRange","execCommand","innerText","type","checked","confirm","opacity","readonly","StepSign","_ref3","_ref3$running","running","title","stepSign","StepTag","_ref4","stepTag","class","point","active","writing","display","p-id","fill","show","contentEditable","oninput","modify","border","edit","marginTop","delete","fontSize","color","float","background","borderRadius","originTip","saveResult","root","append","app","oncreate","transition","userSelect","stopPropagation","_getViewPosition","currentTarget","startTop","startLeft","_getViewPosition2","targetTop","targetLeft","a","b","move","recordBall","recording","map","esLight","lightAll","light","sunshine","attributes","rest","children","arguments","pop","nodeName","view","container","skipRender","rootElement","oldNode","recycleElement","toLowerCase","nodeValue","lifecycle","isRecycling","globalState","clone","wiredActions","wireStateToActions","path","action","getPartialState","then","scheduleRender","setPartialState","concat","resolveNode","render","patch","parent","isSvg","newElement","createTextNode","createElementNS","updateAttribute","insertBefore","removeElement","oldAttributes","cb","onupdate","updateElement","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","getKey","k","newKey","keyedNode","source","out","slice","eventListener","events","oldValue","cssText","setProperty","removeEventListener","setAttribute","removeAttribute","removeChild","removeChildren","ondestroy","onremove","__webpack_exports__","stapTag","getCoords","docEl","clientTop","clientLeft","Math","round","whatsElementPure_document","noop","whatsElementPure","argument","draw","simpleId","lastClick","that","focusedElement","clean","initFunction","whatsElementPure_prototype","HTMLElement","console","error","viewLeft","viewTop","tag","classList","item","regExp","getElementsByName","querySelector","classLength","queryCount","pow","queryString","elements","parentQueryResult","parentQueryString","targetQuery","j","__proto__"],"mappings":"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","file":"easyshare.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","\n\nconst IS_TOUCH = 'ontouchstart' in window,\n getXY = IS_TOUCH\n? e => {\nconst touch = e.touches[0] || e.changedTouches[0]\nreturn touch ? {\n    x: touch.pageX,\n    y: touch.pageY\n} : { x: 0, y: 0 }\n}\n: e => {\n   var e = event || window.event;\n   var x = e.pageX || e.clientX + getScroll().x;\n   var y = e.pageY || e.clientY + getScroll().y;\n   return {x, y};\n},\n\n\nhighlight = function (node,reg){\n    if (node.nodeType == 3) {  \n        const match = node.data.match(new RegExp(reg));\n        if (match) {\n            const highlightEl = document.createElement(\"b\");\n            highlightEl.dataset.highlight=\"y\"\n            const wordNode = node.splitText(match.index)\n            wordNode.splitText(match[0].length); // 切割成前 关键词 后三个Text 节点\n            const wordClone = wordNode.cloneNode(true);//省略构建一个文本节点\n            highlightEl.appendChild(wordClone);//highlight 节点构建成功\n            wordNode.parentNode.replaceChild(highlightEl, wordNode);// 替换该文本节点\n        }\n    } else if (node.nodeType == 1 && node.childNodes&& // only element nodes that have children\n        !/(script|style)/i.test(node.tagName) // ignore script\n        && node.dataset.highlight!=\"y\"\n    ) { \n        for (var i = 0; i < node.childNodes.length; i++) {\n            highlight(node.childNodes[i], reg);\n            i++\n        }\n    }  \n},\n\n\nhightLightElement = function (element,text,hightlight){\n    if(!element || !text){\n        return\n    }\n    \n    const highlightElements = element.querySelectorAll(\"b[data-highlight='y']\")\n    //还原高亮，即便是高亮 也要先还原高亮\n    for(let i=0; i<highlightElements.length; i++){\n        const ele = highlightElements[i],originText = ele.dataset['origintext'] || ele.innerHTML\n        //如果是其他步骤高亮的则不还原\n        if(originText!=text){\n            continue;\n        }\n        ele.outerHTML = originText\n    }\n    // 如果是还原 则不进行之后操作\n    if(!hightlight){\n        element.dataset.highlightbk=\"n\"\n        return\n    }\n\n    element.dataset.highlightbk=\"y\"\n    highlight(element,new RegExp(text.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')))\n    //TODO 增加背景突显动画\n}\n\n\nconst gotoPosition = function(targetX,targetY,callback){\n    const timer = setInterval(function () {\n        //移动前\n        const { x:beforeScrollLeft,y:beforeScrollTop} = getScroll();\n        const distanceX = targetX - beforeScrollLeft\n        , distanceY =  targetY - beforeScrollTop\n        \n        //移动后\n        setScroll(beforeScrollLeft+distanceX/6,beforeScrollTop+distanceY/6)\n        \n        const {x:afterScrollLeft,y:afterScrollTop} = getScroll()\n        \n        if(beforeScrollTop === afterScrollTop && beforeScrollLeft === afterScrollLeft){\n            clearInterval(timer)\n            typeof callback === \"function\" && callback()\n        }\n    },30)\n    return timer\n}\n\nconst documentTarget = document.documentElement || document.body\nfunction getScroll(){\n    var x = window.pageXOffset || documentTarget.scrollLeft || documentTarget.scrollLeft;\n    var y = window.pageYOffset || documentTarget.scrollTop || documentTarget.scrollTop;\n    return {x,y}\n}\n\nfunction setScroll(x,y){\n    documentTarget.scrollLeft = x;\n    documentTarget.scrollTop = y;\n    window.scrollTo(x,y)\n}\n\n//TODO 获取元素位于body相对位置信息 getViewPosition + getScroll\n\nfunction getViewPosition(elem) { // crossbrowser version\n    var box = elem.getBoundingClientRect();\n    return { top: box.top, left: box.left };\n}\n\nexport {\n    gotoPosition,\n    getXY,\n    hightLightElement,\n    getViewPosition\n}","import easyshare from './easyshare'\nimport widget from './widget'\n\nexport default function EasyShare(id,options){\n    const easy = new easyshare(id,options)\n    const easyui = document.querySelectorAll(\"div[data-easyshare]\")\n    if(easyui.length==0){\n        widget(easy);\n    }\n    return easy\n}\nwindow.EasyShare = EasyShare\n\n\n\n","import {gotoPosition,getXY,hightLightElement} from './document'\nimport whatsPure from 'whats-element/pure'\n//whats getTarget try catch  同时计算出多个 进行长度比较 取最优的\n//将所有常用量进行存储 此处是全局 避免和原本常亮冲突 放到 constant里面\nconst whats = new whatsPure()\n\n//增加开关 是否开启\nexport default function EasyShare(id,options){\n    this.id = id || \"easyshare-container\"\n    this.options = \n    Object.assign({playSetting:{auto:true,dura:100},\n        maxMarkNumber:10,\n        stepSplit:\"e_o\",\n        valueSplit:\":)\",\n        blacklist:[this.id],\n        saveInURL:true\n    },options)\n    this.recordedSteps = []\n    this.runindex = NULL\n    this.target = {}\n    //用户用户复制的 分享的URL\n    this.url = window.location.href\n    //只提供读方法\n    this.data = \"\" //EasyShare 使用的原始数据字符串\n    let status=NULL,\n        nextTimer = NULL, \n        runningTimer = NULL,\n        targetInfo = this.target\n        \n\n    const CALLBACKFUN = [],\n          UNDEFINED = undefined,\n          NULL = null,\n          constant = this.CONSTANT,\n          OPTIONS = this.options,\n          splitStep = OPTIONS.stepSplit,\n          splitValue= OPTIONS.valueSplit,\n          playSetting = OPTIONS.playSetting,\n          webPlaySetting = Object.assign({},playSetting),\n          nameid = constant.ID,\n          location = window.location,\n          emptyString = \"\",\n          numberAfter=\"_hash-\",\n          numberCode = \"#\", //中文 ! # & @ 不能作为分割词。 建议使用非对称 (→o←) -_-||\n          andCode = \"&\",\n          andAfter = \"_and-\",\n          NOCODE = [splitStep,splitValue],\n          S = this.recordedSteps,\n          blackNodes = [];\n\n    //input format: ?a=b&b=123\n    function formatSearch(inputSearch){\n        inputSearch = inputSearch || location.search\n        const searchObject = {}\n        const searchNames = [] //存储先后顺序避免发生错误\n        const search = decodeURI(inputSearch).replace(new RegExp(numberAfter,\"g\"),numberCode)\n        const searchArray = search.substr(1).split(\"&\");//去掉 ? 符号\n        for(let i=0 ; i < searchArray.length; i++){\n            if(searchArray[i]===\"\")continue\n            const queryPar  = searchArray[i].split(\"=\"),\n            name = queryPar[0],\n            value = queryPar[1]\n            searchObject[name] = value===UNDEFINED ? value : value.replace(new RegExp(andAfter,\"g\"),andCode);\n            searchNames.push(name)\n        }\n\n        return {\n            searchObject,\n            searchNames\n        }\n    }\n\n    let levent = null\n    if(\"ontouchstart\" in window){\n        document.addEventListener(\"touchstart\",(e)=>{\n            levent = e\n        })\n        document.onselectionchange = (e)=>{\n            if(levent.target && levent.target.id!=\"record\"){\n                const{x,y}=getXY(levent)\n                handleUp.call(this,{x,y:y+24})\n            }\n        }\n    }else{\n        document.addEventListener(\"mouseup\" , (e)=>{\n            handleUp.call(this,{x:e.pageX,y:e.pageY})\n        } )\n    }\n    function handleUp(position){\n        const selection = document.getSelection(),\n              targetElment = selection.anchorNode.parentNode;\n             \n        for(let i of blackNodes){\n            if(i.contains(targetElment)){\n                return\n            }\n        }\n        const selectdText = selection.toString().trim();\n\n        if(this.status == constant.WAITING && selectdText === targetInfo.text){\n            return\n        }\n        if(selectdText){\n            this.target = targetInfo =  {\n                x:position.x,\n                y:position.y,\n                text:selectdText.substring(0,30),\n                tip:selectdText,\n                id: whats.getUniqueId(targetElment).wid\n            }\n            \n            this.status = (this.status === constant.REPLAYING || this.status === constant.PLAYANDWAIT) ? constant.PLAYANDWAIT : constant.WAITING\n        }else{\n            this.target = targetInfo = {}\n            this.status = constant.PAUSE\n        }\n    }\n\n    this.init = function(initData){\n        const searchObject = formatSearch(initData || location.search).searchObject\n        const stepsString = searchObject[nameid] || \"\",playsetting = searchObject[\"esplay\"] || \"\";\n        //格式化结果\n        this.data = \"&\"+nameid + \"=\" + stepsString + \"&esplay=\" + playsetting\n        if(stepsString){\n            //获取到EasyShare数据字符串 解析为对象\n            stepsString.split(splitStep).forEach(value=>{\n                const values = value.split(splitValue),\n                    tempStep = {\n                        x:values[0],\n                        y:values[1],\n                        id:values[2],\n                        text:values[3],\n                        tip:values[4] || values[3]\n                    }\n                    S.push(tempStep)\n                })\n                this.status = constant.READY\n        }\n        if(playsetting){\n            playsetting.split(\"_\").forEach(set=>{\n                const keyvalue = set.split(\"-\")\n                playSetting[keyvalue[0]] = keyvalue[1]\n            })\n            //将string转为 boolean 类型\n            playSetting.auto = playSetting.auto && playSetting.auto == \"true\"\n        }\n        //能自动优化为 && \n        if(playSetting.auto){\n            easyshare.replay(0,false,true,true,null,playSetting.dura)\n        }\n        //格式化URL\n        this.makelink()\n        setTimeout(()=>{\n            OPTIONS.blacklist.forEach((elementid)=>{\n                const white = whats.getTarget(elementid);\n                if(white){\n                    blackNodes.push(white)\n                } \n            })\n        },0)\n    }\n\n    this.addListener = function(fun){\n        if(typeof fun == \"function\"){\n            CALLBACKFUN.push(fun)\n        }\n    }\n    \n    // success: true,faild:false\n    this.record = function(forceRecord){   \n        const maxNn = OPTIONS.maxMarkNumber\n        if(S.length>=maxNn){\n            alert(\"标记失败！最大标记数量为 \"+maxNn)\n            return false\n        }\n        // 如果当前状态不为等待记录 且不是强行记录时\n        if(!forceRecord && this.status!=constant.WAITING){\n            return false;\n        }\n        this.status = constant.RECORDING\n        \n        S.push(targetInfo)\n        //记录内容字符串存储过程错误，进行回滚操作\n        const storeResult = this.makelink()\n        if(!storeResult.result){\n            alert(storeResult.msg)\n            S.splice(-1,1)\n            this.status = constant.RECORDFAIL\n            return false\n        }\n        hightLightElement(whats.getTarget(targetInfo.id),targetInfo.text,true)    \n        targetInfo.isActive = true   \n        this.status = constant.RECORDED\n        return true\n    }\n    \n    this.remove = function(stepIndex){\n        //删除所有\n        if(stepIndex<0){\n            while(S.length>0){\n                this.replay(0,false,false)\n                S.splice(0,1)\n            }\n            this.status = constant.PAUSE\n        }else{\n            this.replay(stepIndex,false,false)\n            S.splice(stepIndex,1)\n        }\n        this.makelink()\n    }\n\n    this.replay = function(index,goto,hightlight,autoNext,replaySteps,timeout){\n        index = index || 0\n        goto = goto!=UNDEFINED ? goto : true\n        hightlight = hightlight!=UNDEFINED ? hightlight : true;\n        timeout = timeout != UNDEFINED ? timeout : playSetting.dura\n        //TODO 根据当前窗口与记录时候窗口大小进行比较，如果差异较大 则进行提示 可能定位不准确的情况\n        replaySteps = replaySteps || S;\n        const runStep = replaySteps[index]\n        if(!runStep){\n            this.runindex = NULL\n            this.status = constant.DONE\n            return \n        }\n        const {x,y,id,text} = runStep, targetEl = id ? whats.getTarget(id) : NULL\n        \n        clearInterval(runningTimer)\n        clearTimeout(nextTimer)\n        runningTimer = nextTimer = NULL\n        //开始滚动\n        this.runindex = index\n        this.status = constant.REPLAYING\n        runStep.isActive = hightlight\n        \n        targetEl &&  hightLightElement(targetEl,text,hightlight)\n        if(goto){\n            runningTimer = gotoPosition(x-window.innerWidth/2,y-window.innerHeight/3,()=>{\n                this.runindex = NULL\n                if(autoNext){\n                    nextTimer = setTimeout(()=>this.replay(index+1,goto,hightlight\n                        ,autoNext,replaySteps,timeout),timeout)\n                }else{\n                    this.status = constant.DONE\n                    clearTimeout(nextTimer)\n                }\n            })\n        }else if(autoNext){\n            nextTimer = setTimeout(()=>this.replay(index+1,goto,hightlight\n                ,autoNext,replaySteps,timeout),timeout)\n        }\n        else{\n            this.runindex = NULL\n            this.status = constant.DONE\n        }\n        //TODO 存在 targetEl 时，使用定位该元素窗口居中效果 否则 使用滚动效果\n    }\n\n    //success no return; failed return errorMsg\n    this.makelink = () => {\n        try{\n            //构建 search 对象，并置空 EasyShare 赋值的内容\n            const {searchObject,searchNames} = formatSearch(location.search)\n                  searchObject[nameid] = NULL\n                  searchObject[\"esplay\"] = NULL\n\n            let originSearch = \"?\"\n            //构建search原本键值对\n            for(let [i,name] of searchNames.entries()){\n                if([nameid,\"esplay\"].indexOf(name)>-1){\n                    continue\n                }\n                let value = searchObject[name]=== UNDEFINED ? \"\" : \"=\"+searchObject[name] \n                originSearch += (i != 0 ? \"&\" : \"\") + name + value\n            }\n            \n            //构建 EasyShare 键值对\n            let share = \"\"\n            if(S.length>0){\n                // share = originSearch[originSearch.length-1]===\"&\" ? \"\":\"&\"\n                share += \"&\"+nameid+\"=\"\n                S.forEach((step,index) => {\n                    share += index!=0 ? splitStep:\"\";\n                    var keys = [\"x\",\"y\",\"id\",\"text\",\"tip\"]\n                    keys.forEach((key,keyindex)=>{\n                        let value = (step[key] || emptyString).toString()\n                        .replace(new RegExp(numberCode,\"g\"),numberAfter)\n                        .replace(new RegExp(andCode,\"g\"),andAfter)\n                        \n                        NOCODE.forEach(code=>{\n                            if(value.indexOf(code)>-1){\n                                throw Error(`不得包含：${code}`)\n                            }\n                        })\n                        \n                        if((key==\"id\" && value.length > 35) || (key==\"tip\" && step[\"tip\"]===step[\"text\"])){\n                            value = emptyString\n                        }\n                        share += keyindex!=0 ? splitValue+value : value\n                    })\n                });\n                \n                let index = 0\n                for(let i in playSetting){\n                    if(playSetting[i]==webPlaySetting[i]){\n                        continue\n                    }\n                    const value = `${i}-${playSetting[i]}`;\n                    share += !index ? \"&esplay=\"+value : \"_\"+value\n                    index++\n                }\n            }\n            const finalQuery = originSearch += share;\n            this.data = share\n            //TODO 博客地址中文hash后 地址解析不正确 放弃encodeURL?\n            this.url = location.protocol+\"//\"+location.host+location.pathname+finalQuery+location.hash\n            if(OPTIONS.saveInURL){\n                history.pushState(emptyString, nameid, this.url);\n            }\n            \n            this.status = constant.SYNCED\n            return {\n                result:true,\n                url:this.url\n            }\n        }catch(e){\n            return {\n                result:false,\n                msg:e.message\n            }\n        }\n    }\n\n    //TODO 滚动到此 自动展开 ，视线离开 自动收缩\n    Object.defineProperty(this,\"status\",{get:()=>{return status},set:(value=>{\n        status=value;\n        CALLBACKFUN.forEach(fun=>{\n            fun(status)\n        })\n    })})\n}\n\nEasyShare.prototype.CONSTANT = {\n    ID:\"easyshare\",\n    WAITING:0,\n    READY:1,\n    RECORDING:2,\n    PAUSE:3,\n    RECORDED:4,\n    RECORDFAIL:5,\n    FINNISHED:6,\n    REPLAYING:7,\n    PLAYANDWAIT:8,\n    DONE:9,// 播放完毕\n    SYNCED:10 // 存储数据和内存对象已经同步\n}\n\nEasyShare.prototype.version = \"0.1.0\"","/**\n * Created by rowthan on 2017/11/19.\n */\nvar whatsElement= require('./src/whatsElementPure')\nmodule.exports = whatsElement.default;","import {  h,app } from \"hyperapp\"\nimport style from \"./widget.css\"\nimport { getViewPosition } from \"./document\";\n\n// var css = {\n//   menu:`.menu{\n//       position:absolute;\n//       right:0px;\n//       width: 20px;\n//       height: 18px;\n//       transform: scale(1);\n//       background: #e6e6e6;\n//       border-radius: 25%;\n//       text-align:center;\n//       transition:.5s;\n//       cursor:pointer;\n//       box-shadow:0 2px 4px 0 rgba(0,0,0,.04)\n//   }`\n// }\n\n// var styles = document.createElement(\"style\")\n// for(let c in css){\n//   styles.innerHTML += css[c].replace(/\\s*/g,\"\");\n// }\n// document.head.appendChild(styles)\n\n//TODO 增加dev 视图展示所有state信息 方便手机端调试\nexport default function widget(easyshare){\n  const state = {\n    //来自easyshare的状态\n    status: \"\",\n    steps: easyshare.recordedSteps,\n    targetInfo: easyshare.target,\n    runindex:null,\n    url:easyshare.url,\n\n    //自定义state\n    ballPos:{},\n    showBall:false,\n    showMenu:false\n  }\n\n  const constant = easyshare.CONSTANT\n    \n  const actions = {\n    refershState: value => state =>({\n      status: easyshare.status,\n      steps: easyshare.recordedSteps,\n      targetInfo: easyshare.target,\n      runindex:easyshare.runindex,\n      url:easyshare.url\n    }),\n    setBallPos: value=> state =>({\n      ballPos: value\n    }),\n    toggleShowBall: value=> state => ({\n      showBall:value\n    }),\n    toggleMenu: value=> state=>({\n      showMenu:!state.showMenu\n    })\n  }\n\n  const toggleAllLight = ()=>{\n    easyshare.replay(0,false,easyshare.highlightAll==true,true,null,200);easyshare.highlightAll=!easyshare.highlightAll\n  }\n\n  const record = (e,actions)=>{\n    e.stopPropagation()\n\n    let {top:startTop,left : startLeft} = getViewPosition(e.currentTarget)\n    let {top:targetTop,left: targetLeft} = getViewPosition(document.getElementById(\"easyshare-menu\"))\n    \n    const a = (targetTop/targetLeft-startTop/startLeft)/(targetLeft - startLeft);\n    const b = targetTop/targetLeft - a*targetLeft;\n    \n\n    actions.toggleShowBall(true)\n    const move = setInterval(()=>{\n      if(startLeft<=targetLeft){\n        startLeft += targetLeft-startLeft<=10 ? 1 : 30;\n        startTop = a*startLeft*startLeft + b*startLeft\n        actions.setBallPos({left:startLeft,top:startTop})\n      }\n      else{\n        actions.toggleShowBall(false)\n        easyshare.record()\n        clearInterval(move)\n    }\n    },10)\n  }\n\n  const RecordButton = ({status,onclick}) =>(\n    <button id=\"record\" onclick={onclick}>\n      {status===constant.WAITING && \"标记此处\"}\n      {[constant.REPLAYING,constant.PLAYANDWAIT].indexOf(status)>-1 && \"结束播放后可进行记录\"}\n    </button>\n  )\n\n  const Menu = ({state,actions})=>(\n    <div\n      id=\"easyshare-menu\"\n      style={{\n        position:\"absolute\",\n        visibility:state.steps.length>0?\"visible\":\"hidden\",\n        right:0,\n        top:state.steps.length*15+20+\"px\",\n      }}\n    >\n      <div className={style.menu} onclick={actions.toggleMenu}>\n        <svg  viewBox=\"0 0 8 16\" version=\"1.1\" width=\"20\" height=\"16\" aria-hidden=\"true\">\n          <path fill-rule=\"evenodd\" d=\"M8 4v1H0V4h8zM0 8h8V7H0v1zm0 3h8v-1H0v1z\"></path>\n        </svg>\n      </div>\n      {\n        state.showMenu && \n        <div className={style.menuContainer}>\n          <a href=\"javascript:;\" className={style.close} onclick={actions.toggleMenu}>\n            <svg viewBox=\"0 0 1024 1024\" width=\"20\" height=\"20\"><path d=\"M804.47 1015.467c-24.911 0-49.225-10.027-66.707-27.509L507.016 757.211 276.268 987.958c-17.481 17.482-41.795 27.509-66.707 27.509-24.941 0-49.271-10.027-66.752-27.509L31.057 876.206C13.577 858.725 3.55 834.395 3.55 809.455c0-24.913 10.026-49.225 27.507-66.708L261.805 512 31.057 281.252C13.577 263.77 3.55 239.457 3.55 214.545c0-24.94 10.026-49.27 27.507-66.752L142.81 36.041c17.48-17.481 41.812-27.508 66.752-27.508 24.911 0 49.225 10.027 66.707 27.508l230.747 230.747L737.764 36.041c17.481-17.482 41.795-27.508 66.706-27.508 24.941 0 49.271 10.027 66.752 27.508l111.753 111.752c17.48 17.481 27.507 41.811 27.507 66.752 0 24.912-10.026 49.225-27.507 66.707L752.228 512l230.748 230.748c17.48 17.482 27.507 41.795 27.507 66.708 0 24.94-10.026 49.27-27.507 66.751L871.223 987.958c-17.48 17.482-41.813 27.509-66.753 27.509zM507.016 713.796l252.455 252.455c11.768 11.767 28.17 18.516 45 18.516 16.86 0 33.278-6.75 45.046-18.516L961.27 854.499c11.767-11.767 18.516-28.185 18.516-45.045 0-16.83-6.749-33.233-18.516-45L708.814 512l252.454-252.455c11.767-11.767 18.516-28.168 18.516-44.999 0-16.86-6.749-33.279-18.516-45.046L849.516 57.748C837.75 45.981 821.33 39.233 804.47 39.233c-16.83 0-33.233 6.748-45 18.515L507.016 310.203 254.562 57.748c-11.768-11.767-28.169-18.515-45-18.515-16.86 0-33.278 6.748-45.046 18.515L52.765 169.5c-11.767 11.768-18.516 28.186-18.516 45.046 0 16.83 6.749 33.232 18.516 45L305.22 512 52.765 764.455c-11.767 11.767-18.516 28.168-18.516 45 0 16.859 6.749 33.278 18.516 45.045l111.752 111.752c11.768 11.767 28.186 18.516 45.046 18.516 16.83 0 33.232-6.75 45-18.516l252.453-252.456z\"/></svg>\n          </a>\n          <div style=\"color:#b7b7b7\">\n            复制地址栏URL或 <a href=\"javascript:;\" onclick={(e)=>{\n              const url = document.getElementById(\"easyshare-url\");\n              url.focus();\n              url.setSelectionRange(0, url.value.length);\n              document.execCommand('copy', true);\n              e.target.innerText = \"已复制\"\n              }}>获取链接</a>\n            <br/> \n            分享给好友，即可让对方看见你的标记。\n          </div>\n        \n          <p>\n              <label><input type=\"checkbox\" checked={easyshare.options.playSetting.auto}\n                onclick={(e)=>{easyshare.options.playSetting.auto = e.target.checked==true;\n                  easyshare.makelink()\n                  actions.refershState()\n                }}\n              />打开网页时候自动点亮标记\n              </label> \n          </p>\n          {/* TODO 使用说明 使用手册 */}\n          <div>\n            <button onclick={()=>{const result = window.confirm(\"确认删除所有标记？\");if(result){easyshare.remove(-1);actions.toggleMenu()}}}>删除所有标记</button>\n            <button onclick={toggleAllLight}>\n              {`${easyshare.highlightAll==true?\"点亮\":\"隐藏\"}所有标记`}\n            </button>\n          </div>\n         \n          \n          \b<input style={{opacity:0}} value={state.url} readonly id=\"easyshare-url\"/>\n          </div>\n      }\n    </div>\n  )\n  //TODO 在视口范围内则激活 否则关闭\n  const StepSign = ({step,running=false,index})=>(\n    <span title=\"点击\"\n          className={`${style.stepSign} ${running?style.running:\"\"} ${step.isActive?style.isActive:\"\"}`}\n          style={{\n            top:(index+1)*15+\"px\"\n            //TODO running 增加动画效果\n          }}\n          onclick={()=>{easyshare.replay(index,true,!step.isActive)}}\n    >\n    </span>\n  )\n\n  const StepTag = ({step,index,actions})=>(\n    <div className={style.stepTag} style={{position:\"absolute\",top:step.y+\"px\",left:step.x+\"px\"}}>\n      <div title=\"点击\"  class={`${style.point} ${step.isActive?style.active:\"\"}`}\n        onclick={()=>{step.writing=false;easyshare.replay(index,false,!step.isActive);actions.refershState()}} >\n        <svg style={{position:\"absolute\",display:step.isActive?\"\":\"none\"}}  viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"10\" height=\"10\">\n          <path d=\"M192 448l640 0 0 128-640 0 0-128Z\" p-id=\"4227\" fill=\"#fff\"></path>\n        </svg>\n      </div>\n      \n      <div className={`${style.box} ${step.isActive? style.show :\"\"}` }>\n        <div contentEditable={step.writing?\"true\":\"false\"}\n        // 节流处理 oninput\n          oninput={(e)=>{const value = e.target.innerText; step.modify = value;}}\n          innerText={step.tip}\n          style={{width:\"100%\",border:`${step.writing?1:0}px solid`}}>\n        </div>\n        <span className={style.edit} onclick={()=>{step.writing=true;easyshare.replay(index,false)}}>\n          <svg viewBox=\"0 0 1024 1024\" width=\"20\" height=\"20\"><path d=\"M924.766 187.485c-32.297-32.412-62.339-68.774-99.757-95.411-34.261-7.093-50.787 29.928-74.311 47.237 39.777 46.201 86.117 87.013 128.923 130.718 19.407-23.095 65.369-46.724 45.145-82.543zm-21.267 174.541c-27.158 27.294-55.258 53.806-81.519 82.146-.648 109.327.273 218.642-.375 327.946-.545 40.3-35.851 76.004-76.13 77.445-165.797.65-331.717.65-497.513.127-44.75-1.191-80.6-44.103-77.048-88.058-.125-158.274-.125-316.403 0-474.533-3.406-43.84 32.55-85.968 76.797-87.535 109.85-1.451 219.739.125 329.462-.794 28.495-25.717 54.737-53.942 82.063-80.976-146.242 0-292.337-.773-438.557.397-68.274 1.18-129.445 60.898-130.614 129.403-.272 184.515-.793 368.895.25 553.399.272 66.414 56.7 124.012 122.091 130.322h574.541c61.944-10.884 115.115-64.972 115.907-129.403 1.839-146.576.399-293.297.649-439.883zm-43.83-71.783a15111.955 15111.955 0 0 0-129.946-129.142c-95.309 94.619-190.867 188.987-285.63 284.128 42.91 43.182 86.094 86.22 129.674 128.871 95.433-94.484 190.718-189.238 285.902-283.856zM373.604 643.78c58.392-15.877 89.499-25.874 147.911-41.616 15.607-4.973 25.989-7.98 33.992-11.167-41.345-39.369-88.852-87.891-130.072-127.523-17.32 60.106-34.534 120.201-51.832 180.305z\" fill=\"#fff\"/></svg>\n        </span>\n        <div style={{marginTop:\"5px\",display:step.writing?\"block\":\"none\"}}>\n            <a className={style.delete} onclick={()=>easyshare.remove(index)} title=\"删除\">\n              <svg viewBox=\"0 0 1024 1024\" width=\"20\" height=\"20\"><path d=\"M223.595 318.284l24.023 480.742c0 54.377 44.99 98.457 100.485 98.457h331.964c55.495 0 100.49-44.08 100.49-98.457l23.109-480.742h-580.07zm608.154-34.103c.1-20.274.159-21.623.159-22.981 0-52.871-31.299-81.888-73.295-81.888l-116.893.123c0-27.751-27.105-50.246-54.855-50.246H441.35c-27.745 0-55.727 22.495-55.727 50.246l-117.013-.123c-46.388 0-73.296 35.36-73.296 81.888 0 1.363.055 2.707.159 22.981h636.282-.006zM614.17 444.615c0-15.327 12.422-27.75 27.745-27.75 15.327 0 27.75 12.423 27.75 27.75v317.883c0 15.328-12.423 27.751-27.75 27.751-15.323 0-27.745-12.423-27.745-27.75V444.614zm-128.31 0c0-15.327 12.427-27.75 27.75-27.75 15.328 0 27.75 12.423 27.75 27.75v317.883c0 15.328-12.422 27.751-27.75 27.751-15.322 0-27.75-12.423-27.75-27.75V444.614zm-128.222 0c0-15.327 12.423-27.75 27.751-27.75 15.322 0 27.75 12.423 27.75 27.75v317.883c0 15.328-12.427 27.751-27.75 27.751-15.328 0-27.75-12.423-27.75-27.75V444.614zm0 0\" fill=\"#fff\"/></svg>\n            </a>\n\n            <span>\n            <span style={{fontSize:\"12px\",color:\"#bbb\"}}> Tip:放弃保存请点击左上角，关闭编辑窗口</span>\n            <a style={{float:\"right\",height:\"20px\",background:\"#fff\",borderRadius:\"5px\"}} href=\"javascript:;\" \n              title=\"保存\" onclick={()=>{\n              const value = step.modify!=undefined?step.modify:step.tip ;\n              const originTip = step.tip;\n              step.tip = value; \n              const result = easyshare.makelink();\n              const saveResult = result.result;\n              !saveResult && alert(result.msg)\n              step.writing = !saveResult\n              step.tip = saveResult?value:originTip\n              actions.refershState()\n              }}>\n                <svg viewBox=\"0 0 1024 1024\" width=\"20\" height=\"20\"><path d=\"M725.333 128h-512C166.4 128 128 166.4 128 213.333v597.334C128 857.6 166.4 896 213.333 896h597.334C857.6 896 896 857.6 896 810.667v-512L725.333 128zM512 810.667c-72.533 0-128-55.467-128-128s55.467-128 128-128 128 55.466 128 128-55.467 128-128 128zM640 384H213.333V213.333H640V384z\" fill=\"#949494\"/></svg>\n              </a>\n            </span>\n          </div>\n      </div>\n    \n    </div>\n  )\n\n\n  const view = (state, actions) => (\n    <div\n      oncreate={()=>{easyshare.addListener(actions.refershState); setTimeout(()=>{actions.refershState()},0)}}>\n      <div style={{\n        position:\"absolute\",\n        left:state.targetInfo.x +\"px\",\n        top:state.targetInfo.y+\"px\",\n        transition:\".5s\",\n        userSelect:\"none\"\n        }}>\n        {\n          (state.status === constant.WAITING || state.status === constant.PLAYANDWAIT)\n          &&\n          <RecordButton status={state.status} onclick={(e)=>{record(e,actions)}}/>\n        }\n      </div>\n      <div className={`${style.recordBall} ${state.showBall?style.recording:\"\"}`} \n          style={{top:state.ballPos.top+\"px\",left:state.ballPos.left+\"px\"\n        }}>\n      </div>\n      {\n        state.steps.map((record,index)=>(\n          <StepTag key={index} step={record} index={index} actions={actions}></StepTag>\n        ))\n      }\n      \n      <aside style={{position:\"fixed\",right:0,top:window.innerHeight/2-(state.steps.length+7)*15/2+\"px\"}}>\n          {\n            state.steps.length > 0 && \n            <a href=\"javascript:;\" className={`${style.esLight} ${easyshare.highlightAll?\"\":style.lightAll}`} onclick={toggleAllLight}>\n              <svg viewBox=\"0 0 1000 1000\" version=\"1.1\" width=\"25\" height=\"25\">\n              <path d=\"M634.9 770.3l-4.4 28H393.6l-4.4-28h245.7zM512 931c-30.4 0-55.9-21.6-62-50.2h124c-6.1 28.6-31.6 50.2-62 50.2z m103.5-79.3h-207c-3.4 0-6.4-2.2-7.4-5.5l-2.9-18.9H626l-3 18.9c-1 3.3-4 5.5-7.5 5.5zM384.7 741.3l-8.1-51.9-0.1-0.6c-7.4-30.4-22.6-58.6-43.8-81.7-42.5-46.2-65.9-106.1-65.9-168.7 0-135.1 109.9-245.1 245-245.3h0.3c134 0 244 108.9 245.3 242.9 0.6 62.7-22.5 122.6-65 168.6-21.5 23.2-36.8 51.7-44.3 82.4l-0.1 0.6-8.4 53.6H384.7z\" fill=\"#FFFFFF\" p-id=\"10480\"></path>\n                <g id={style.light}>\n                  <path d=\"M357 741.1l-8-51.9-0.1-0.6c-7.4-30.4-22.4-58.6-43.5-81.7-42.2-46.2-65.4-106.1-65.4-168.7 0-135.1 109-245.1 243.1-245.3h0.3c133 0 242.1 108.9 243.3 242.9 0.6 62.7-22.3 122.6-64.5 168.6-21.3 23.2-36.5 51.7-43.9 82.4l-0.1 0.6-8.3 53.6H357z\" p-id=\"10481\"></path>\n                </g>\n                <path d=\"M605.8 770.8l-4.3 28H370.4l-4.3-28h239.7zM587 852.2H384.9c-3.3 0-6.3-2.2-7.2-5.5l-2.9-18.9h222.3l-2.9 18.9c-1 3.3-3.9 5.5-7.2 5.5z\" fill=\"#E87A66\" p-id=\"10482\"></path>\n                \n                <path d=\"M484.9 931c-29 0-53.4-21.6-59.2-50.2H544c-5.8 28.6-30.1 50.2-59.1 50.2z\" fill=\"#65D5EF\" p-id=\"10483\">\n                </path>\n\n                <path d=\"M512 164.1h-0.3c-73.2 0.1-142 28.6-193.7 80.4-51.7 51.8-80.2 120.6-80.2 193.9 0 35.2 6.6 69.7 19.7 102.6 12.7 31.8 30.8 60.7 53.8 85.7 17.8 19.3 30.5 42.9 36.8 68.4l24.5 157 0.1 0.6c4 16.5 18.7 28 35.7 28h12c6.4 44.7 45 79.2 91.5 79.2s85.1-34.5 91.5-79.2h12c17 0 31.7-11.5 35.7-28l0.1-0.6 5.6-35.7c0.2-0.9 0.4-1.8 0.4-2.7l18.9-120.4c6.4-25.7 19.3-49.6 37.3-69.1 47.5-51.5 73.3-118.5 72.7-188.6-0.7-72.6-29.6-140.9-81.5-192.2-51.6-51.1-120.1-79.3-192.6-79.3z m122.9 606.2l-4.4 28H393.6l-4.4-28h245.7zM512 931c-30.4 0-55.9-21.6-62-50.2h124c-6.1 28.6-31.6 50.2-62 50.2z m103.5-79.3h-207c-3.4 0-6.4-2.2-7.4-5.5l-2.9-18.9H626l-3 18.9c-1 3.3-4 5.5-7.5 5.5z m76.8-247c-21.5 23.2-36.8 51.7-44.3 82.4l-0.1 0.6-8.4 53.6h-113V570.8c0-8-6.5-14.5-14.5-14.5s-14.5 6.5-14.5 14.5v170.5H384.7l-8.1-51.9-0.1-0.6c-7.4-30.4-22.6-58.6-43.8-81.7-42.5-46.2-65.9-106.1-65.9-168.7 0-135.1 109.9-245.1 245-245.3h0.3c134 0 244 108.9 245.3 242.9 0.4 62.8-22.6 122.6-65.1 168.7z\" fill=\"#274359\" p-id=\"10484\">\n                </path>\n                <g id={style.sunshine}>\n                  <path d=\"M512 467c-8 0-14.5 6.5-14.5 14.5v29.7c0 8 6.5 14.5 14.5 14.5s14.5-6.5 14.5-14.5v-29.7c0-8-6.5-14.5-14.5-14.5zM511.4 146.9c8 0 14.5-6.5 14.5-14.5V78.5c0-8-6.5-14.5-14.5-14.5s-14.5 6.5-14.5 14.5v53.8c0 8.1 6.5 14.6 14.5 14.6zM281.4 234.1c2.8 2.8 6.5 4.3 10.3 4.3 3.7 0 7.4-1.4 10.3-4.3 5.7-5.7 5.7-14.9 0-20.5l-38.1-38.1c-5.7-5.7-14.9-5.7-20.5 0-5.7 5.7-5.7 14.9 0 20.5l38 38.1zM201 429.4h-53.8c-8 0-14.5 6.5-14.5 14.5s6.5 14.5 14.5 14.5H201c8 0 14.5-6.5 14.5-14.5 0.1-8-6.4-14.5-14.5-14.5zM282.3 653.4l-38.1 38.1c-5.7 5.7-5.7 14.9 0 20.5 2.8 2.8 6.5 4.3 10.3 4.3 3.7 0 7.4-1.4 10.3-4.3l38.1-38.1c5.7-5.7 5.7-14.9 0-20.5-5.8-5.7-14.9-5.7-20.6 0zM742.6 652.5c-5.7-5.7-14.9-5.7-20.5 0-5.7 5.7-5.7 14.9 0 20.5l38.1 38.1c2.8 2.8 6.5 4.3 10.3 4.3s7.4-1.4 10.3-4.3c5.7-5.7 5.7-14.9 0-20.5l-38.2-38.1zM876.8 428.2H823c-8 0-14.5 6.5-14.5 14.5s6.5 14.5 14.5 14.5h53.8c8 0 14.5-6.5 14.5-14.5s-6.5-14.5-14.5-14.5zM731.4 237.5c3.7 0 7.4-1.4 10.3-4.3l38.1-38.1c5.7-5.7 5.7-14.9 0-20.5-5.7-5.7-14.9-5.7-20.5 0l-38.1 38.1c-5.7 5.7-5.7 14.9 0 20.5 2.8 2.9 6.5 4.3 10.2 4.3z\" fill=\"#274359\" p-id=\"10485\">\n                  </path>\n                </g>\n              </svg>\n            </a>\n          }\n          \n          <div style={{position:\"relative\",right:\"6px\"}}>\n            {\n              state.steps.map((record,index)=>(\n                <StepSign  key={index} step = {record} running={index===state.runindex} index={index}/>\n              ))\n            }\n          </div>\n          <Menu state={state} actions={actions}/>\n      </aside>\n    </div>\n  )\n  const root = document.createElement(\"div\");\n  root.id = easyshare.id;\n  root.dataset.easyshare = root.id;\n  document.body.append(root)\n  app(state, actions, view, root)\n}","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"_3Dr\",\"show\":\"_1HQ\",\"point\":\"zzj\",\"active\":\"QVz\",\"stepTag\":\"_2j5\",\"menuContainer\":\"_1Cv\",\"stapTag\":\"_2eV\",\"edit\":\"_1Dn\",\"delete\":\"_2kz\",\"menu\":\"_3lO\",\"stepSign\":\"_3ls\",\"running\":\"_23u\",\"isActive\":\"T7x\",\"close\":\"_2PK\",\"recordBall\":\"_3P0\",\"recording\":\"_1k7\",\"esLight\":\"_1QK\",\"light\":\"zWp\",\"sunshine\":\"_27C\",\"lightAll\":\"onb\"};","function getCoords(elem) {\n    var box = elem.getBoundingClientRect();\n    var body = document.body;\n    var docEl = document.documentElement;\n    var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n    var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n    var clientTop = docEl.clientTop || body.clientTop || 0;\n    var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n    var top  = box.top +  scrollTop - clientTop;\n    var left = box.left + scrollLeft - clientLeft;\n    return { top: Math.round(top), left: Math.round(left) };\n}\n\nfunction initFunction(){\n    var init =  function (argument) {\n        this.options = Object.assign({},{\n            draw:true,\n            /**尽可能短的wid*/\n            simpleId:true\n        },argument)\n        this.lastClick = document.body\n        var that = this\n        /**点击其他地方时，清除*/\n        document.addEventListener('mousedown', function(event){\n            that.lastClick = event.target\n            if(that.focusedElement!==that.lastClick){\n              init.prototype.clean()\n            }\n        })\n    }\n    return init;\n}\n\nexport {\n    getCoords,\n    initFunction\n}","/**\n * Created by rowthan on 2017/12/9. TODO show size\n * 包含核心 api 获取id,获取元素，不含UI\n */\nimport {getCoords,initFunction} from \"./helper\";\nvar document = window.document,noop = function(){},\nwhatsElementPure = initFunction(),\nprototype = whatsElementPure.prototype\nprototype.getUniqueId = function (element,parent) {\n    element = element ? element : this.lastClick;\n    if(!(element instanceof HTMLElement)){\n        console.error(\"input is not a HTML element\");\n        return {};\n    }\n    var result = {\n        wid:\"\",\n        type:\"\",\n        top:getCoords(element).top,\n        left:getCoords(element).left,\n        viewLeft:element.getBoundingClientRect().left,\n        viewTop: element.getBoundingClientRect().top,\n        text: element.innerText\n    },\n    //construct data info of the element\n      id = element.id,\n      name = element.name,\n      tag = element.tagName.toLowerCase(),\n      type = element.type?element.type.toLowerCase():\"\",\n      className = \"\",\n      classList = element.classList || [];\n      classList.forEach(function (item) {\n        className += \".\"+item;\n      })\n    if(tag===\"body\" || tag=== \"html\"){\n        result.wid = tag;\n        result.type= tag;\n    }\n    //location by id\n    if(id && document.getElementById(id) === element){\n        var regExp= new RegExp(\"^[a-zA-Z]+\") ;\n        /**当不为parent定位，且设置为简单结果时，直接返回id 否则使用完整路径标识符。注：两个if顺序不能更换，递归调用时 simpleId为undefined*/\n        if(!parent && this.options.simpleId){\n            result.wid = id;\n        }\n        /*如果为parent定位，或者设置为完整结果时候，返回tag#id*/\n        else if(regExp.test(id)){\n            result.wid = tag+\"#\"+id\n        }\n        result.type = \"document.getElementById()\"\n    }\n    //location by name\n    if(!result.wid && name && document.getElementsByName(name)[0] === element){\n        result.wid = name;\n        result.type = \"document.getElementsByName()\"\n    }\n    //location by class\n    if(!result.wid && className && document.querySelector(tag+className)===element){\n        result.wid = tag+className;\n        result.type = \"document.querySelector()\"\n        var classLength = classList.length\n        if(classLength>2){\n          var n = 1,\n          /**使用class查询的个数，如2，4，8：使用2，4，8个className做查询*/\n          queryCount = []\n          while (Math.pow(2,n)<classLength){\n              queryCount.push(Math.pow(2,n));\n              n++;\n          }\n          queryCount.push(classLength)\n\n          for(var k=0; k<queryCount.length;k++){\n              /**使用class个数去查询*/\n              var countNum = queryCount[k];\n                //TODO 性能优化\n          }\n        }\n    }\n    //for radio\n    if(type === \"radio\"){\n        var value = element.value,queryString = tag+\"[value='\"+value+\"']\"\n        if(name){\n            queryString += \"[name='\"+name+\"']\"\n        }\n        if(document.querySelector(queryString)===element){\n            result.wid = queryString\n            result.type = \"document.querySelector()\"\n        }\n    }\n    //location by mixed,order\n    if(!result.wid){\n        queryString = tag;\n        queryString = className ? queryString +className: queryString\n        queryString = name? queryString + \"[name='\"+name+\"']\": queryString\n        if(prototype.getTarget(queryString)===element){\n            result.wid = queryString\n            result.type = \"document.querySelector()\"\n        }\n    }\n    //location by order\n    if(!result.wid){\n        queryString = tag\n        queryString = className ? queryString +className: queryString\n\n        var elements = document.querySelectorAll(queryString)\n        if(elements && elements.length>0){\n            var index = null\n            for(var i=0; i<elements.length; i++){\n                if(element===elements[i]){\n                    index = i+1;\n                    break;\n                }\n            }\n            if(index){\n                queryString = queryString + \":nth-child(\"+index+\")\"\n                if(document.querySelector(queryString) === element){\n                    result.wid = queryString\n                    result.type = \"document.querySelector()\"\n                }\n            }\n        }\n    }\n    //location by parent\n    if(!result.wid){\n        if(!element.parentNode){\n            return\n        }\n        var parentQueryResult = whatsElementPure.prototype.getUniqueId(element.parentNode,true),\n          parentQueryString = parentQueryResult?parentQueryResult.wid:\"\";\n        if(!parentQueryString){\n            return{\n                wid:\"\",\n                type:\"NO_LOCATION\"\n            };\n        }\n        var targetQuery = tag;\n        if(className){\n            targetQuery += className;\n        }\n          queryString = parentQueryString+\">\"+targetQuery\n          var queryElements = document.querySelectorAll(queryString);\n        if(queryElements.length>1){\n            queryString = null;\n            var index = null;\n            for(var j=0; j<element.parentNode.children.length; j++){\n                if(element.parentNode.children[j]===element){\n                    index = j+1;\n                    break;\n                }\n            }\n            if(index>=1){\n                queryString = parentQueryString+\">\"+ targetQuery + \":nth-child(\"+index+\")\";\n                var queryTarget = document.querySelector(queryString);\n                if(queryTarget!=element){\n                    queryString = null;\n                }\n            }\n        }\n        result.wid = queryString\n        result.type = \"document.querySelector()\"\n    }\n\n    this.focusedElement = prototype.getTarget(result.wid);\n    if(!parent && this.options.draw ){\n        this.__proto__.draw(result);\n    }\n    return result\n}\nprototype.getTarget = function (queryString) {\n    return document.getElementById(queryString) || document.getElementsByName(queryString)[0] || document.querySelector(queryString);\n}\n\nprototype.clean = noop\nprototype.draw = noop\nwindow.whatsElement = whatsElementPure;\nexport default whatsElementPure"],"sourceRoot":""}