{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./src/easyshare.js","webpack:///./src/document.js","webpack:///./src/constant.js","webpack:///./node_modules/_whats-element@1.0.3@whats-element/index.js","webpack:///./node_modules/_whats-element@1.0.3@whats-element/dist/whatsElement.js","webpack:///./src/widget.js","webpack:///./node_modules/_hyperapp@1.2.9@hyperapp/src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","e","EasyShare","options","arguments","length","easy","easyshare","_widget2","window","_this","this","assign","autoReplay","hightligth","recordedSteps","mousePosition","x","y","status","constant","PAUSE","targetInfo","addEventListener","event","search","location","indexOf","searchArray","substr","split","queryPar","pair","replaySteps","forEach","tempStep","push","replay","document","MOUSE_UP","selectdText","getSelection","toString","trim","text","_getXY","_document","getXY","WAITING","documentElement","scrollLeft","scrollTop","id","whats","getUniqueId","target","wid","console","log","onStateChange","finished","FINNISHED","setps","record","callback","RECORDING","RECORDED","_this2","step","REPLAYFINISHED","_replaySteps$step","targetEl","getTarget","hightLightElement","REPLAYING","getoPosition","setTimeout","makelink","share","index","currentUrl","href","indexShare","history","pushState","set","version","_package","a","whatselement","draw","description","main","scripts","test","build","start","keywords","author","license","devDependencies","babel-core","babel-loader","babel-plugin-transform-react-jsx","babel-preset-env","webpack","webpack-cli","webpack-dev-server","webpack-merge","dependencies","hyperapp","whats-element","touch","touches","changedTouches","pageX","pageY","clientX","getScroll","clientY","body","drawMenu","targetX","targetY","timer","setInterval","_getScroll","beforeScrollLeft","beforeScrollTop","distanceX","distanceY","Math","floor","_getScroll2","afterScrollLeft","clearInterval","element","style","background","EASYSHARECONTAINER","MENUID","SHAREID","whatsElement","__WEBPACK_AMD_DEFINE_RESULT__","lastClick","focusedElement","clean","querySelectorAll","classList","remove","u","createElement","HTMLElement","error","type","tagName","toLowerCase","getElementById","RegExp","getElementsByName","querySelector","f","g","h","parentNode","w","children","innerHTML","stopPropagation","innerText","onclick","appendChild","readOnly","className","setAttribute","select","execCommand","getBoundingClientRect","top","offsetHeight","left","screenX","b","offsetWidth","scrollY","add","outerHTML","head","state","actions","refershState","RecordButton","_ref","_hyperapp","app","oncreate","position","transition","attributes","rest","node","pop","nodeName","view","container","skipRender","map","rootElement","oldNode","recycleElement","childNodes","nodeType","nodeValue","lifecycle","isRecycling","globalState","clone","wiredActions","wireStateToActions","path","action","data","result","getPartialState","then","scheduleRender","setPartialState","concat","resolveNode","render","patch","parent","isSvg","newElement","createTextNode","createElementNS","updateAttribute","insertBefore","removeElement","oldAttributes","cb","onupdate","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","getKey","k","newKey","keyedNode","source","out","slice","eventListener","currentTarget","events","oldValue","cssText","setProperty","removeEventListener","removeAttribute","done","removeChild","removeChildren","ondestroy","onremove","__webpack_exports__"],"mappings":"aACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,KACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,KAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GAA0CK,cAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,aAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,YAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,cAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA2B,SAC3B,WAAiC,OAAA3B,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAkB,EAAAC,GAAsD,OAAAlB,OAAAmB,UAAAC,eAAA3B,KAAAwB,EAAAC,IAGtDhC,EAAAmC,EAAA,GAIAnC,IAAAoC,EAAA,cAAAC,EAAAf,EAAAO,GAAA,aAAAf,OAAAC,eAAAO,EAAA,cAAAD,OAAA,IAAAC,EAAAQ,QC/EwBQ,EAHxB,IAAAzB,EAAAT,EAAAJ,EAAA,IAAAkB,EAAAd,EACAJ,EAAA,aAAAI,EAAAiC,GAAA,OAAAA,KAAAb,WAAAa,GAAAP,QAAAO,GAEe,SAASC,IAAqB,IAAXC,EAAWC,UAAAC,OAAA,YAAAD,UAAA,GAAAA,UAAA,MACnCE,EAAO,IAAIC,UAAUJ,GAE3B,SADAK,EAAAd,SAAOY,GACAA,EAGXG,OAAOP,UAAYA,2FCCJ,SAAmBC,GAAQ,IAAAO,EAAAC,KACtCA,KAAKR,QAAUzB,OAAOkC,QAAQC,cAAgBC,eAAiBX,GAC/DQ,KAAKI,iBAELJ,KAAKK,eAAiBC,EAAE,EAAEC,EAAE,GAC5B,IAAIC,EAASC,UAASC,MAClBC,KAGJb,OAAOc,iBAAiB,OAAQ,SAACC,GAC7B,IAAMC,EAAShB,OAAOiB,SAASD,OAC/B,IAAkC,IAA/BA,EAAOE,QAAQ,aAIlB,IADA,IAAMC,EAAcH,EAAOI,OAAO,GAAGC,MAAM,KACnC9D,EAAE,EAAIA,EAAI4D,EAAYvB,OAAQrC,IAAI,CACtC,IAAM+D,EAAYH,EAAY5D,GAC9B,GAAG+D,EAASJ,QAAQ,cAAc,EAAE,CAChC,IAAMK,EAAOD,EAASD,MAAM,KACX,IAAdE,EAAK3B,QAAW,WACf,IACM4B,KADSD,EAAK,GAEbF,MAAM,KAAKI,QAAQ,SAAAjD,GACtB,IAAMkD,GACFlB,EAAEhC,EAAM6C,MAAM,KAAK,GACnBZ,EAAEjC,EAAM6C,MAAM,KAAK,IAEvBG,EAAYG,KAAKD,KAErBzB,EAAK2B,OAAO,EAAEJ,GAVC,GAYnB,UAMZK,SAASf,iBAAkBgB,EAAW,SAACtC,GACnC,IAAMuC,EAAcF,SAASG,eAAeC,WAAWC,OACvD,GAAGH,IAAclB,EAAWsB,KAO5B,GAAGJ,EAAY,KAAAK,KACMC,EAAAC,OAAM9C,GAAfgB,EADG4B,EACH5B,EAAGC,EADA2B,EACA3B,EACXR,EAAKM,eACDC,EAAEA,EACFC,EAAEA,GAINR,EAAKS,OAASC,UAAS4B,QAEvB1B,GACIL,EAAEqB,SAASW,gBAAgBC,WAC3BhC,EAAEoB,SAASW,gBAAgBE,UAC3BP,KAAKJ,EACLY,GAAIC,EAAMC,YAAYrD,EAAEsD,QAAQC,UAGpClC,KAEAZ,EAAKS,OAASC,UAASC,WAzBvBoC,QAAQC,IAAI,UA6BpB/C,KAAKgD,cAAgB,WACjBF,QAAQC,IAAI,iBAAiBvC,IAGjCR,KAAKiD,SAAW,WACZjD,KAAKQ,OAASC,UAASyC,UACvBlD,KAAKmD,UAGTnD,KAAKoD,OAAS,SAASC,GACnBrD,KAAKQ,OAASC,UAAS6C,UACvBtD,KAAKI,cAAcqB,KAAKd,GACxBX,KAAKQ,OAASC,UAAS8C,SACH,mBAAbF,GAA0BA,KAGrCrD,KAAK0B,OAAS,WAA4B,IAAA8B,EAAAxD,KAAnByD,EAAmBhE,UAAAC,OAAA,YAAAD,UAAA,GAAAA,UAAA,GAAd,EAAE6B,EAAY7B,UAAA,GAEtC,IADA6B,EAAcA,GAAetB,KAAKI,eACnBV,OAAO+D,EAAK,EACvBzD,KAAKQ,OAASC,UAASiD,mBAD3B,CAFsC,IAAAC,EAMrBrC,EAAYmC,GAAtBnD,EAN+BqD,EAM/BrD,EAAEC,EAN6BoD,EAM7BpD,EAAEkC,EAN2BkB,EAM3BlB,GAELmB,EAAWlB,EAAMmB,UAAUpB,GAE9BmB,GAAY5D,KAAKR,QAAQW,eACxBgC,EAAA2B,mBAAkBF,GAGtB5D,KAAKQ,OAASC,UAASsD,aACvB5B,EAAA6B,cAAa1D,EAAEC,EAAE,WACViD,EAAKhE,QAAQU,YACZ+D,WAAW,kBAAIT,EAAK9B,OAAO+B,EAAK,EAAEnC,IAAa,SAK3DtB,KAAKkE,SAAW,WACZ,GAA+B,IAA5BnE,EAAKK,cAAcV,OAAtB,CAEA,IAAIyE,EAAQ,cACZpE,EAAKK,cAAcmB,QAAQ,SAACkC,EAAKW,GACtB,GAAPA,IAASD,GAAQ,KACjBA,GAASV,EAAKnD,EAAE,IAAImD,EAAKlD,IAE7B,IAAI8D,EAAavE,OAAOiB,SAASuD,KACjCC,EAAaF,EAAWrD,QAAQ,cACL,IAAxBlB,OAAOiB,SAASD,SACfuD,GAAc,KAEfE,GAAY,IACXF,EAAaA,EAAWnD,OAAO,EAAEqD,IAElC/E,EAAQU,aACPiE,GAAS,oBAEbK,QAAQC,UAAU,GAAI,eAAgBJ,EAAWF,KAGrDpG,OAAOC,eAAegC,KAAK,UAAU9B,IAAI,WAAK,OAAOsC,GAAQkE,IAAK,SAAApG,GAC9DkC,EAAOlC,EACPyB,EAAKiD,cAAcxC,MAGvBzC,OAAOC,eAAegC,KAAK,WAAW1B,MAAMqG,aAhJhD,IAAAC,EAAA3H,EAAA,GACAkF,EAAAlF,EAAA,GAAAI,EAAAwH,EACA5H,EAAA,aAAA4H,EAAAvF,GAAA,OAAAA,KAAAb,WAAAa,GAAAP,QAAAO,GAEA,IAAMoD,EAAQ,IAAAmC,EADd5H,EAAA,IACkB6H,UAAcC,UAC1BnD,EAAW,iBAAkB9B,OACJ,WACA,oBAAAR,KAAAnC,SAAAS,KAAA,aAAA+G,QAAA,QAAAK,YAAA,uCAAAC,KAAA,WAAAC,SAAAC,KAAA,4CAAAC,MAAA,mCAAAC,MAAA,oEAAAC,UAAA,2BAAAC,OAAA,UAAAC,QAAA,MAAAC,iBAAAC,aAAA,UAAAC,eAAA,SAAAC,mCAAA,UAAAC,mBAAA,SAAAC,QAAA,UAAAC,cAAA,SAAAC,qBAAA,SAAAC,gBAAA,UAAAC,cAAAC,SAAA,SAAAC,gBAAA,qBAAA9G,EAAAf,EAAAO,GAAA,aAAAf,OAAAC,eAAAO,EAAA,cAAAD,OAAA,ICP/B,IAsBC8D,EAFgB,iBAAkBtC,OAGjC,SAAAR,GACF,IAAM+G,EAAQ/G,EAAEgH,QAAQ,IAAMhH,EAAEiH,eAAe,GAC/C,OAAOF,GACH/F,EAAG+F,EAAMG,MACTjG,EAAG8F,EAAMI,QACPnG,EAAG,EAAGC,EAAG,IAEb,SAAAjB,GAIC,OAASgB,GAHLhB,EAAIuB,OAASf,OAAOe,OACd2F,OAASlH,EAAEoH,QAAUC,IAAYrG,EAE1BC,EADTjB,EAAEmH,OAASnH,EAAEsH,QAAUD,IAAYpG,IAa9C,SAASoG,IAGL,OAAQrG,EAFAqB,SAASW,gBAAgBC,YAAcZ,SAASkF,KAAKtE,WAEnDhC,EADFoB,SAASW,gBAAgBE,WAAab,SAASkF,KAAKrE,aAU5DsE,oBACA9C,aA3DiB,WAAsC,IAA7B+C,EAA6BtH,UAAAC,OAAA,YAAAD,UAAA,GAAAA,UAAA,GAArB,EAAEuH,EAAmBvH,UAAAC,OAAA,YAAAD,UAAA,GAAAA,UAAA,GAAX,EAAE4D,EAAS5D,UAAA,GAEjDwH,EAAQC,YAAY,WAAY,IAAAC,EAEcR,IAAtCS,EAFwBD,EAE1B7G,EAAqB+G,EAFKF,EAEP5G,EACrB+G,EAAYP,EAAUK,EAC1BG,EAAaP,EAAUK,GA8CjC,WAA2B,IAAR/G,EAAQb,UAAAC,OAAA,YAAAD,UAAA,GAAAA,UAAA,GAAN,EAAEc,EAAId,UAAAC,OAAA,YAAAD,UAAA,GAAAA,UAAA,GAAF,EACrBkC,SAASW,gBAAgBC,WAAaZ,SAASkF,KAAKtE,WAAajC,EACjEqB,SAASW,gBAAgBE,UAAab,SAASkF,KAAKrE,UAAYjC,EAFpE,CA3CkB6G,EAAiBI,KAAKC,MAAMH,EAAU,GAAGE,KAAKC,MAAMJ,EAAgBE,EAAU,IAPtD,IAAAG,EASWf,IAApCgB,EATyBD,EAS3BpH,EAEJ+G,IAX+BK,EASTnH,GAEgB6G,IAAqBO,IAC1DC,cAAcX,GACd5D,MAEN,KAAA9E,EA2CF6D,UACA0B,kBAxBgB,SAAU+D,GAE1BA,EAAQC,MAAMC,WAAa,qBAAAzI,EAAAf,EAAAO,GAAA,aAAAf,OAAAC,eAAAO,EAAA,cAAAD,OAAA,IAAAC,EAAAQ,SCtC3BiJ,mBAAmB,sBACnBC,OAAO,iBACPC,QAAQ,qBAER7F,QAAQ,UACRiB,UAAU,YACV5C,MAAM,QACN6C,SAAS,WACTL,UAAU,YAEVa,UAAU,YACVL,eAAe,4BAAApE,EAAAf,EAAAO,GCTnB,IAAAqJ,EAAmBlL,EAAQ,GAC3BG,EAAAD,QAAAgL,mBCJA,IAAAC,GAAA,SAAA9I,EAAAf,GAAe,IAAAO,EAAAQ,EAAAqC,SAAAtE,EAAA,gBAAAS,EAAAT,EAAA,iBAAAc,EAAAd,EAAA,cAAAwH,EAAAxH,EAAA,QAAAM,EAAAN,EAAA,oBAAAC,EAAAD,EAAA,aAAA+B,EAAA,SAAAE,GAA6IU,KAAAR,QAAAzB,OAAAkC,WAA+B8E,SAAQzF,GAAAU,KAAAqI,UAAAvJ,EAAA+H,KAA0B,IAAAtI,EAAAyB,KAAWlB,EAAA8B,iBAAA,qBAAAtB,GAA2Cf,EAAA8J,UAAA/I,EAAAsD,OAAArE,EAAA+J,iBAAA/J,EAAA8J,WAAAhJ,EAAAkJ,WAAiElJ,EAAAD,EAAAF,UAAe,SAAAxB,IAAaoB,EAAA0J,iBAAA,IAAAnL,EAAA,WAAAkE,QAAA,SAAAjC,GAAwDA,EAAAmJ,UAAAC,OAAArL,EAAA,aAAkC,SAAAsL,EAAArJ,EAAAf,GAAgB,IAAAlB,EAAAyB,EAAA8J,cAAAtJ,GAAA,OAAgC,OAAAf,IAAAlB,EAAAoF,GAAAlE,GAAAlB,EAAqBgC,EAAAsD,YAAA,SAAArD,EAAAf,GAA4B,MAAAe,KAAAU,KAAAqI,qBAAAQ,aAAA,OAAA/F,QAAAgG,MAAA,yCAAgH,IAAAzL,GAAOwF,IAAA,GAAAkG,KAAA,IAAejL,EAAAwB,EAAAmD,GAAAtE,EAAAmB,EAAA1B,KAAAiH,EAAAvF,EAAA0J,QAAAC,cAAAtL,EAAA2B,EAAAyJ,KAAAzJ,EAAAyJ,KAAAE,cAAA,GAAA3L,EAAA,GAAiF,IAAAgC,EAAAmJ,eAAAlH,QAAA,SAAAjC,GAAyChC,GAAA,IAAAgC,IAAS,SAAAuF,GAAA,SAAAA,IAAAxH,EAAAwF,IAAAgC,EAAAxH,EAAA0L,KAAAlE,GAAA/G,GAAAgB,EAAAoK,eAAApL,KAAAwB,EAAA,CAAyE,IAAA5B,EAAA,IAAAyL,OAAA,cAA+B5K,EAAAb,EAAAyH,KAAArH,KAAAT,EAAAwF,IAAAgC,EAAA,IAAA/G,GAAAT,EAAAwF,IAAA/E,EAAAT,EAAA0L,KAAA,OAAmD,IAAA1L,EAAAwF,KAAA1E,GAAAW,EAAAsK,kBAAAjL,GAAA,KAAAmB,IAAAjC,EAAAwF,IAAA1E,EAAAd,EAAA0L,KAAA,WAAA1L,EAAAwF,KAAAvF,GAAAwB,EAAAuK,cAAAxE,EAAAvH,KAAAgC,IAAAjC,EAAAwF,IAAAgC,EAAAvH,EAAAD,EAAA0L,KAAA,qBAAApL,EAAA,CAAsJ,IAAAgL,EAAA9D,EAAA,WAAAvF,EAAAhB,MAAA,KAAgCH,IAAAwK,GAAA,UAAAxK,EAAA,MAAAW,EAAAuK,cAAAV,KAAArJ,IAAAjC,EAAAwF,IAAA8F,EAAAtL,EAAA0L,KAAA,WAA6K,GAAjG1L,EAAAwF,MAAW8F,EAAA9D,EAAI8D,EAAArL,EAAAqL,EAAArL,EAAAqL,IAAAxK,EAAAwK,EAAA,UAAAxK,EAAA,KAAAwK,EAAAtJ,EAAAwE,UAAA8E,KAAArJ,IAAAjC,EAAAwF,IAAA8F,EAAAtL,EAAA0L,KAAA,aAAkF1L,EAAAwF,IAAA,CAAW8F,EAAA9D,EAAI8D,EAAArL,EAAAqL,EAAArL,EAAAqL,EAAU,IAAAW,EAAAxK,EAAA0J,iBAAAG,GAA4B,GAAAW,KAAA5J,OAAA,GAAkB,QAAAa,EAAA,KAAAgJ,EAAA,EAAmBA,EAAAD,EAAA5J,OAAW6J,IAAA,GAAAjK,IAAAgK,EAAAC,GAAA,CAAiBhJ,EAAAgJ,EAAA,EAAM,MAAMhJ,IAAAoI,IAAA,cAAApI,EAAA,IAAAzB,EAAAuK,cAAAV,KAAArJ,IAAAjC,EAAAwF,IAAA8F,EAAAtL,EAAA0L,KAAA,aAAiF,IAAA1L,EAAAwF,IAAA,CAAW,IAAA2G,EAAApK,EAAAF,UAAAyD,YAAArD,EAAAmK,eAAA5G,IAAmD,IAAA2G,EAAA,OAAa,IAAA/L,EAAAoH,EAA4B,GAApBvH,IAAAG,GAAAH,GAAUqL,EAAAa,EAAA,IAAA/L,EAAUqB,EAAA0J,iBAAAG,GAAAjJ,OAAA,GAAmCiJ,EAAA,KAAOpI,EAAA,KAAO,QAAAmJ,EAAA,EAAYA,EAAApK,EAAAmK,WAAAE,SAAAjK,OAA+BgK,IAAA,GAAApK,EAAAmK,WAAAE,SAAAD,KAAApK,EAAA,CAAqCiB,EAAAmJ,EAAA,EAAM,MAAMnJ,GAAA,IAAAoI,EAAAa,EAAA,IAAA/L,EAAA,cAAA8C,EAAA,IAAAzB,EAAAuK,cAAAV,IAAArJ,IAAAqJ,EAAA,OAAsEtL,EAAAwF,IAAA8F,EAAAtL,EAAA0L,KAAA,WAA0B,OAAA/I,KAAAsI,eAAAjJ,EAAAwE,UAAAxG,EAAAwF,MAAAtE,GAAAyB,KAAAR,QAAAuF,MAAA3F,EAAAF,UAAA6F,KAAA1H,MAA2FgC,EAAAwE,UAAA,SAAAvE,GAAyB,OAAAR,EAAAoK,eAAA5J,IAAAR,EAAAsK,kBAAA9J,GAAA,IAAAR,EAAAuK,cAAA/J,IAA0ED,EAAA0F,KAAA,SAAAxG,GAAoB,IAAAlB,EAAAgC,EAAAwE,UAAAtF,EAAAsE,KAAyB,GAAAxF,EAAA,CAAM,IAAAiM,EAAAxK,EAAAoK,eAAApL,GAAAgB,EAAAoK,eAAApL,GAAA6K,EAAA,QAAA7K,GAA2DwL,EAAAM,UAAA,GAAAN,EAAA1I,iBAAA,qBAAAtB,GAA0DA,EAAAuK,oBAAsB,IAAAtJ,EAAAoI,EAAA,MAAAxK,GAAiBoC,EAAAuJ,UAAA,IAAAvJ,EAAAwJ,QAAA,SAAAzK,GAAsCA,EAAAuK,kBAAAzK,EAAAF,UAAAqJ,SAAwCe,EAAAU,YAAAzJ,GAAkB,IAAAgJ,EAAAZ,EAAA,MAAAhL,GAAA6L,EAAAb,EAAA,QAAArL,GAAgCkM,EAAAS,YAAAT,EAAAU,UAAA3L,EAAAwK,KAAAS,EAAAlL,MAAAC,EAAAsE,IAA+C,IAAApF,EAAAkL,EAAA,MAAA9D,GAAiBpH,EAAA0M,aAAA,aAAA5L,EAAAwK,MAAAtL,EAAAqM,UAAA,KAAArM,EAAAsM,QAAA,WAA0EP,EAAAY,SAAAtL,EAAAuL,YAAA,SAAiCd,EAAAS,YAAAR,GAAAD,EAAAS,YAAAvM,GAAA6L,EAAAU,YAAAT,GAAoD,IAAAG,EAAArM,EAAAiN,wBAAAC,IAAAlN,EAAAmN,aAAAlK,EAAAjD,EAAAiN,wBAAAG,KAAAnL,EAAAoL,QAAAC,EAAArK,EAAA,IAAAA,KAAA,IAAAgJ,EAAAsB,aAAA,EAAAvN,EAAAuN,YAAA,EAAA9L,EAAA+H,KAAAyD,wBAAAG,KAAoLnB,EAAAxB,MAAA2C,KAAAE,EAAA,KAAArB,EAAAxB,MAAAyC,IAAAb,EAAApK,EAAAuL,QAAA,QAAA/L,EAAA+H,KAAAmD,YAAAV,GAAA5L,IAAAL,EAAAoL,UAAAqC,IAAA,6BAAsHhI,QAAAgG,MAAA,mBAAAvK,EAAAsE,MAA6CxD,EAAAkJ,MAAA,WAAoB7K,IAAI,IAAA4B,EAAAR,EAAAoK,eAAApL,GAA0BwB,MAAAyL,UAAA,cAAoBzL,GAAA,OAAAA,MAAA6I,aAAA/I,YAAAE,GAAA,OAAAA,IAAAU,KAAAmI,aAAA/I,YAAAhC,KAAAD,UAAAC,EAAAD,QAAAiC,aAAgLgJ,EAAA,WAAkB,OAAAhJ,GAAS5B,KAAAL,EAAAF,EAAAE,EAAAC,QAAAD,QAAAiL,GAAE,IAAAkB,EAAAX,EAAA,SAAApI,EAAA,IAAAzC,EAAA,sNAA+OyC,GAAA,IAAApC,EAAA,iLAAwLoC,GAAA,IAAApC,EAAA,6BAAsCoC,GAAA,IAAA5C,EAAA,+CAAwD4C,GAAA,IAAAjD,EAAA,+FAAwGiD,GAAA,IAAAsE,EAAA,0CAAmDtE,GAAA,IAAAsE,EAAA,oOAA6OtE,GAAA,IAAAsE,EAAA,iDAA0DtE,GAAA,2DAA8D+I,EAAAQ,UAAAvJ,EAAAzB,EAAAkM,KAAAhB,YAAAV,GAAAhK,EAAA6I,aAAA/I,EAAprI,CAA2uIU,iGCC5tI,SAAgBF,GAC7B,IAAMqL,GACJzK,OAAQZ,EAAUY,OAClBJ,cAAeR,EAAUQ,cACzBC,eAAgBC,EAAEV,EAAUS,cAAcC,EAAEC,EAAEX,EAAUS,cAAcE,IAGlE2K,GACJC,aAAc,SAAA7M,GAAA,OAAS,SAAA2M,GAAA,OACrBzK,OAAQZ,EAAUY,OAClBJ,cAAeR,EAAUQ,cACzBC,eAAgBC,EAAEV,EAAUS,cAAcC,EAAEC,EAAEX,EAAUS,cAAcE,OAUpE6K,EAAe,SAAAC,GAAA,IAAE7K,EAAF6K,EAAE7K,OAAOuJ,EAATsB,EAAStB,QAAT,SACnBuB,EAAA9B,GAAA,UAAQO,QAASA,GACdvJ,OAsBL8K,EAAAC,KAAIN,EAAOC,EAjBE,SAACD,EAAOC,GAAR,SACXI,EAAA9B,GAAA,OAAKgC,SAAU5L,EAAUoD,cAAgB,WAAWkI,EAAQC,eAAerI,QAAQC,IAAIkI,QACrFK,EAAA9B,GAAA,OAAK1B,OAAQ2D,SAAS,WAAWhB,KAAKQ,EAAM5K,cAAcC,EAAE,KAAKiK,IAAIU,EAAM5K,cAAcE,EAAE,KAAKmL,WAAW,QAEvF,WAAhBT,EAAMzK,WAEN8K,EAAA9B,GAAA,eACE8B,EAAA9B,GAAC4B,GAAa5K,OAAQyK,EAAMzK,OAAQuJ,QAAS,YApBxC,SAACmB,GACdtL,EAAUwD,SACV8H,EAAQC,eAFK,CAoBoDD,SACzDI,EAAA9B,GAAA,UAAQO,QAASnK,EAAUsE,UAA3B,YASgBvC,SAASkF,OA9CrC,IAAAyE,EAAArO,EAAA,aAAAqC,EAAAf,EAAAO,GAAA,aCAO,SAAA0K,EAAA5L,EAAA+N,GAKP,IAJA,IAAAC,KACAjC,KACAjK,EAAAD,UAAAC,OAEAA,KAAA,GAAAkM,EAAAnK,KAAAhC,UAAAC,IAEA,KAAAkM,EAAAlM,QAAA,CACA,IAAAmM,EAAAD,EAAAE,MACA,GAAAD,KAAAC,IACA,IAAApM,EAAAmM,EAAAnM,OAAgCA,KAChCkM,EAAAnK,KAAAoK,EAAAnM,SAEK,MAAAmM,mBACLlC,EAAAlI,KAAAoK,GAIA,yBAAAjO,EACAA,EAAA+N,MAA2BhC,IAE3BoC,SAAAnO,EACA+N,iBACAhC,WACA/K,IAAA+M,KAAA/M,KAIO,SAAA2M,EAAAN,EAAAC,EAAAc,EAAAC,GACP,IAIAC,EAJAC,SACAC,EAAAH,KAAAtC,SAAA,SACA0C,EAAAD,GAWA,SAAAE,EAAAzE,GACA,OACAkE,SAAAlE,EAAAkE,SAAA9C,cACA0C,cACAhC,SAAAwC,EAAA3O,KAAAqK,EAAA0E,WAAA,SAAA1E,GACA,WAAAA,EAAA2E,SACA3E,EAAA4E,UACAH,EAAAzE,MAPA,CAXAuE,GACAM,KAEAC,KACAC,EAAAC,EAAA5B,GACA6B,EA4EA,SAAAC,EAAAC,EAAA/B,EAAAC,GACA,QAAAtM,KAAAsM,EACA,mBAAAA,EAAAtM,GACA,SAAAA,EAAAqO,GACA/B,EAAAtM,GAAA,SAAAsO,GACA,IAAAC,EAAAF,EAAAC,GAoBA,MAlBA,mBAAAC,IACAA,IAAAC,EAAAJ,EAAAJ,GAAA1B,IAIAiC,GACAA,KAAAlC,EAAAmC,EAAAJ,EAAAJ,MACAO,EAAAE,MAEAC,EACAV,EAAAW,EACAP,EACAH,EAAA5B,EAAAkC,GACAP,IAKAO,GAtBA,CAwBWvO,EAAAsM,EAAAtM,IACXmO,EACAC,EAAAQ,OAAA5O,GACAqM,EAAArM,GAAAiO,EAAA5B,EAAArM,IACAsM,EAAAtM,GAAAiO,EAAA3B,EAAAtM,KAIA,OAAAsM,EAnCA,IA5EA0B,EAAAC,EAAA3B,IAIA,OAFAoC,IAEAR,EAcA,SAAAW,EAAA5B,GACA,yBAAAA,EACA4B,EAAA5B,EAAAe,EAAAE,IACA,MAAAjB,EACAA,EACA,GAGA,SAAA6B,IACAxB,KAEA,IAAAL,EAAA4B,EAAAzB,GAQA,IANAC,IAAAC,IACAE,EA0OA,SAAAuB,EAAAC,EAAA/F,EAAAwE,EAAAR,EAAAgC,GACA,GAAAhC,IAAAQ,QACK,SAAAA,KAAAN,WAAAF,EAAAE,SAAA,CACL,IAAA+B,EA5FA,SAAAlF,EAAAiD,EAAAgC,GACA,IAAAhG,EACA,iBAAAgE,GAAA,iBAAAA,EACAlK,SAAAoM,eAAAlC,IACAgC,KAAA,QAAAhC,EAAAE,UACApK,SAAAqM,gBACA,6BACAnC,EAAAE,UAEApK,SAAAiH,cAAAiD,EAAAE,UAEAJ,EAAAE,EAAAF,WACA,GAAAA,EAAA,CACAA,EAAAH,UACAkB,EAAAjL,KAAA,WACAkK,EAAAH,SAAA3D,KAIA,QAAAxK,EAAA,EAAqBA,EAAAwO,EAAAlC,SAAAjK,OAA0BrC,IAC/CwK,EAAAmC,YACApB,EACAiD,EAAAlC,SAAAtM,GAAAoQ,EAAA5B,EAAAlC,SAAAtM,IACAwQ,IAKA,QAAAjQ,KAAA+N,EACAsC,EAAApG,EAAAjK,EAAA+N,EAAA/N,GAAA,KAAAiQ,GAIA,OAAAhG,EAjCA,CA4FAgE,EAAAgC,GACAD,EAAAM,aAAAJ,EAAAjG,GAEA,MAAAwE,GACA8B,EAAAP,EAAA/F,EAAAwE,GAGAxE,EAAAiG,OACK,SAAAzB,EAAAN,SACLlE,EAAA4E,UAAAZ,MACK,EAlEL,SAAAhE,EAAAuG,EAAAzC,EAAAkC,GACA,QAAAjQ,KAAAiP,EAAAuB,EAAAzC,GAEAA,EAAA/N,MACA,UAAAA,GAAA,YAAAA,EACAiK,EAAAjK,GACAwQ,EAAAxQ,KAEAqQ,EACApG,EACAjK,EACA+N,EAAA/N,GACAwQ,EAAAxQ,GACAiQ,GAKA,IAAAQ,EAAA1B,EAAAhB,EAAAH,SAAAG,EAAA2C,SACAD,GACA3B,EAAAjL,KAAA,WACA4M,EAAAxG,EAAAuG,KArBA,CAoEAvG,EACAwE,EAAAV,WACAE,EAAAF,WACAkC,KAAA,QAAAhC,EAAAE,UASA,IANA,IAAAwC,KACAC,KACAC,KACAC,EAAArC,EAAA1C,SACAA,EAAAkC,EAAAlC,SAEAtM,EAAA,EAAqBA,EAAAqR,EAAAhP,OAAwBrC,IAAA,CAC7CoR,EAAApR,GAAAwK,EAAA0E,WAAAlP,GAGA,OADAsR,EAAAC,EAAAF,EAAArR,OAEAkR,EAAAI,IAAAF,EAAApR,GAAAqR,EAAArR,KAIAA,EAAA,EAGA,IAHA,IACAwR,EAAA,EAEAA,EAAAlF,EAAAjK,QAAA,CACA,IAAAiP,EAAAC,EAAAF,EAAArR,IACAyR,EAAAF,EAAAjF,EAAAkF,GAAApB,EAAA9D,EAAAkF,KAEA,GAAAL,EAAAG,GACAtR,SAIA,SAAAyR,OAAAF,EAAAF,EAAArR,EAAA,IAQA,SAAAyR,GAAAnC,EACA,MAAAgC,IACAhB,EAAA9F,EAAA4G,EAAApR,GAAAqR,EAAArR,GAAAsM,EAAAkF,GAAAhB,GACAgB,KAEAxR,QACS,CACT,IAAA0R,EAAAR,EAAAO,OAEAH,IAAAG,GACAnB,EAAA9F,EAAAkH,EAAA,GAAAA,EAAA,GAAApF,EAAAkF,GAAAhB,GACAxQ,KACW0R,EAAA,GACXpB,EACA9F,EACAA,EAAAqG,aAAAa,EAAA,GAAAN,EAAApR,IACA0R,EAAA,GACApF,EAAAkF,GACAhB,GAGAF,EAAA9F,EAAA4G,EAAApR,GAAA,KAAAsM,EAAAkF,GAAAhB,GAGAW,EAAAM,GAAAnF,EAAAkF,GACAA,SAhCA,MAAAF,GACAR,EAAAtG,EAAA4G,EAAApR,GAAAqR,EAAArR,IAEAA,IAiCA,KAAAA,EAAAqR,EAAAhP,QACA,MAAAkP,EAAAF,EAAArR,KACA8Q,EAAAtG,EAAA4G,EAAApR,GAAAqR,EAAArR,IAEAA,IAGA,QAAAA,KAAAkR,EACAC,EAAAnR,IACA8Q,EAAAtG,EAAA0G,EAAAlR,GAAA,GAAAkR,EAAAlR,GAAA,IAIA,OAAAwK,EAlGA,CA1OAoE,EAAAG,EAAAC,IAAAR,IAGAc,KAEAD,EAAAhN,QAAAgN,EAAAZ,KAAAY,GAGA,SAAAY,IACApB,IACAA,KACAjI,WAAAyJ,IAIA,SAAAb,EAAAjK,EAAAoM,GACA,IAAAC,KAEA,QAAA5R,KAAAuF,EAAAqM,EAAA5R,GAAAuF,EAAAvF,GACA,QAAAA,KAAA2R,EAAAC,EAAA5R,GAAA2R,EAAA3R,GAEA,OAAA4R,EAGA,SAAA1B,EAAAP,EAAA1O,EAAA0Q,GACA,IAAApM,KACA,OAAAoK,EAAAtN,QACAkD,EAAAoK,EAAA,IACAA,EAAAtN,OAAA,EACA6N,EAAAP,EAAAkC,MAAA,GAAA5Q,EAAA0Q,EAAAhC,EAAA,KACA1O,EACAuO,EAAAmC,EAAApM,IAEAtE,EAGA,SAAA8O,EAAAJ,EAAAgC,GAEA,IADA,IAAA3R,EAAA,EACAA,EAAA2P,EAAAtN,QACAsP,IAAAhC,EAAA3P,MAEA,OAAA2R,EAyCA,SAAAJ,EAAA/C,GACA,OAAAA,IAAAjN,IAAA,KAGA,SAAAuQ,EAAAtO,GACA,OAAAA,EAAAuO,cAAAC,OAAAxO,EAAAkI,MAAAlI,GAGA,SAAAoN,EAAApG,EAAAjK,EAAAU,EAAAgR,EAAAzB,GACA,WAAAjQ,QACK,aAAAA,EACL,oBAAAU,EACAuJ,EAAAC,MAAAyH,QAAAjR,OAGA,QAAAjB,IADA,iBAAAiS,MAAAzH,EAAAC,MAAAyH,QAAA,IACA1C,EAAAyC,EAAAhR,GAAA,CACA,IAAAwJ,EAAA,MAAAxJ,GAAA,MAAAA,EAAAjB,GAAA,GAAAiB,EAAAjB,GACA,MAAAA,EAAA,GACAwK,EAAAC,MAAA0H,YAAAnS,EAAAyK,GAEAD,EAAAC,MAAAzK,GAAAyK,MAKA,MAAAlK,EAAA,UAAAA,EAAA,IACAA,IAAAsR,MAAA,GAEArH,EAAAwH,OACAC,MAAAzH,EAAAwH,OAAAzR,IAEAiK,EAAAwH,UAGAxH,EAAAwH,OAAAzR,GAAAU,EAEAA,EACAgR,GACAzH,EAAAjH,iBAAAhD,EAAAuR,GAGAtH,EAAA4H,oBAAA7R,EAAAuR,IAGAvR,KAAAiK,GACA,SAAAjK,GACA,SAAAA,GACA,cAAAA,GACA,eAAAA,GACA,cAAAA,IACAiQ,EAEAhG,EAAAjK,GAAA,MAAAU,EAAA,GAAAA,EACO,MAAAA,WACPuJ,EAAAsC,aAAAvM,EAAAU,GAGA,MAAAA,WACAuJ,EAAA6H,gBAAA9R,GAiFA,SAAAuQ,EAAAP,EAAA/F,EAAAgE,GACA,SAAA8D,IACA/B,EAAAgC,YAhBA,SAAAC,EAAAhI,EAAAgE,GACA,IAAAF,EAAAE,EAAAF,WACA,GAAAA,EAAA,CACA,QAAAtO,EAAA,EAAqBA,EAAAwO,EAAAlC,SAAAjK,OAA0BrC,IAC/CwS,EAAAhI,EAAA0E,WAAAlP,GAAAwO,EAAAlC,SAAAtM,IAGAsO,EAAAmE,WACAnE,EAAAmE,UAAAjI,GAGA,OAAAA,EAXA,CAgBAA,EAAAgE,IAGA,IAAAwC,EAAAxC,EAAAF,YAAAE,EAAAF,WAAAoE,SACA1B,EACAA,EAAAxG,EAAA8H,GAEAA,KA1SA1S,EAAAkB,EAAA6R,GAAA/S,EAAAU,EAAAqS,EAAA,sBAAAxG,IAAAvM,EAAAU,EAAAqS,EAAA,wBAAAzE","file":"easyshare.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import easyshare from './easyshare'\nimport widget from './widget'\n\nexport default function EasyShare(options={}){\n    const easy = new easyshare(options)\n    widget(easy)\n    return easy\n}\n\nwindow.EasyShare = EasyShare\n\n\n\n","import {version} from '../package.json'\nimport {getoPosition,getXY,hightLightElement} from './document'\nimport constant from './constant'\nimport whatselement from 'whats-element'\nconst whats = new whatselement({draw:false})\nconst MOUSE_UP = 'ontouchstart' in window\n  /* istanbul ignore next */ ? 'touchend'\n  /* istanbul ignore next */ : 'mouseup'\n\n\nexport default function Easyshare(options){\n    this.options = Object.assign({autoReplay:true,hightligth:true},options)\n    this.recordedSteps = []\n    //TODO 将mousePosition 放入 targetInfo中\n    this.mousePosition = {x:0,y:0}\n    let status = constant.PAUSE\n    let targetInfo = {}\n    \n\n    window.addEventListener(\"load\", (event)=> {\n        const search = window.location.search\n        if(search.indexOf(\"easyshare\")===-1){\n            return\n        }\n        const searchArray = search.substr(1).split(\"&\");\n        for(let i=0 ; i < searchArray.length; i++){\n            const queryPar  = searchArray[i]\n            if(queryPar.indexOf(\"easyshare\")>-1){\n                const pair = queryPar.split(\"=\");\n                if(pair.length===2){\n                    const values = pair[1]\n                    const replaySteps = []\n                    values.split(\"a\").forEach(value=>{\n                        const tempStep = {\n                            x:value.split(\"-\")[0],\n                            y:value.split(\"-\")[1]\n                        }\n                        replaySteps.push(tempStep)\n                    })\n                    this.replay(0,replaySteps)\n                }\n                break\n            }\n        }\n    });\n    \n\n    document.addEventListener( MOUSE_UP , (e)=>{\n        const selectdText = document.getSelection().toString().trim();\n        if(selectdText===targetInfo.text){\n            console.log(\"不再监听\")\n            return\n        } \n        \n        // const shareContainer = document.getElementById(constant.EASYSHARECONTAINER)\n        //存在选中内容 并且 状态为暂停时 显示锚点按钮 存储相关信息\n        if(selectdText){\n            const { x, y } = getXY(e)\n            this.mousePosition = {\n                x:x,\n                y:y\n            }\n            // shareContainer.style.transform = `translateX(${x}px) translateY(${y}px)`\n            // shareContainer.style.display = \"block\"\n            this.status = constant.WAITING\n            \n            targetInfo = {\n                x:document.documentElement.scrollLeft,\n                y:document.documentElement.scrollTop,\n                text:selectdText,\n                id: whats.getUniqueId(e.target).wid\n            }\n        }else{\n            targetInfo = {}\n            // shareContainer.style.display = \"none\"\n            this.status = constant.PAUSE\n        }\n    } );\n\n    this.onStateChange = function(){\n        console.log(\"changed state:\"+status)\n    }\n    \n    this.finished = function(){\n        this.status = constant.FINNISHED\n        this.setps = []\n    }\n\n    this.record = function(callback){\n        this.status = constant.RECORDING       \n        this.recordedSteps.push(targetInfo)\n        this.status = constant.RECORDED\n        typeof callback === \"function\" &&callback()\n    }\n\n    this.replay = function(step=0,replaySteps){\n        replaySteps = replaySteps || this.recordedSteps;\n        if(replaySteps.length<step+1){\n            this.status = constant.REPLAYFINISHED\n            return \n        }\n        const {x,y,id} = replaySteps[step]\n\n        const targetEl = whats.getTarget(id);\n       \n        if(targetEl && this.options.hightligth){\n            hightLightElement(targetEl)\n        }\n        //TODO 存在 targetEl 时，使用定位该元素窗口居中效果 否则 使用滚动效果\n        this.status = constant.REPLAYING\n        getoPosition(x,y,()=>{\n            if(this.options.autoReplay){\n                setTimeout(()=>this.replay(step+1,replaySteps),1000)\n            }\n        })\n    }\n\n    this.makelink = () => {\n        if(this.recordedSteps.length===0)return;\n        // 生成分享链接,记录数据:  http://www.baidu.com?share=0-123a0-234\n        let share = \"&easyshare=\"\n        this.recordedSteps.forEach((step,index) => {\n            index!=0?share +=\"a\":\"\";\n            share += step.x+\"-\"+step.y\n        });\n        let currentUrl = window.location.href,\n        indexShare = currentUrl.indexOf(\"&easyshare\")\n        if(window.location.search==\"\"){\n            currentUrl += \"?\"\n        }\n        if(indexShare>-1){\n            currentUrl = currentUrl.substr(0,indexShare)\n        }\n        if(options.autoReplay){\n            share += \"&autoreplay=true\"\n        }\n        history.pushState(\"\", \"EasyShare 预览\", currentUrl+share);\n    }\n\n    Object.defineProperty(this,\"status\",{get:()=>{return status},set:(value=>{\n        status=value;\n        this.onStateChange(status)\n        // menuEl.innerHTML = value\n    })})\n    Object.defineProperty(this,\"version\",{value:version})\n}","const getoPosition = function(targetX=0,targetY=0,callback){\n    // console.log(\"target position:\",targetX,targetY)\n    const timer = setInterval(function () {\n        //移动前\n        const { x:beforeScrollLeft,y:beforeScrollTop} = getScroll();\n        const distanceX = targetX - beforeScrollLeft\n        , distanceY =  targetY - beforeScrollTop\n        \n        //移动后\n        setScroll(beforeScrollLeft+Math.floor(distanceX/6),Math.floor(beforeScrollTop+distanceY/6))\n        \n        const {x:afterScrollLeft,y:afterScrollTop} = getScroll()\n        \n        if(beforeScrollTop === afterScrollTop && beforeScrollLeft === afterScrollLeft){\n            clearInterval(timer)\n            callback()\n        }\n    },30)\n}\n\nconst IS_TOUCH = 'ontouchstart' in window,\n//TODO 优化移动设备\n getXY = IS_TOUCH\n? e => {\nconst touch = e.touches[0] || e.changedTouches[0]\nreturn touch ? {\n    x: touch.pageX,\n    y: touch.pageY\n} : { x: 0, y: 0 }\n}\n: e => {\n   var e = event || window.event;\n   var x = e.pageX || e.clientX + getScroll().x;\n   var y = e.pageY || e.clientY + getScroll().y;\n   return { 'x': x, 'y': y };\n},\n\nhightLightElement = function (element){\n    // console.log(\"hightligth target\")\n    element.style.background = \"#e8d2bb\"\n},\nfocusOnElement = function(element){\n\n}\n\n\nfunction getScroll(){\n    var x = document.documentElement.scrollLeft || document.body.scrollLeft;\n    var y = document.documentElement.scrollTop || document.body.scrollTop;\n    return {x,y}\n}\n\nfunction setScroll(x=0,y=0){\n    document.documentElement.scrollLeft = document.body.scrollLeft = x;\n    document.documentElement.scrollTop =  document.body.scrollTop = y;\n}\n\nexport {\n    drawMenu,\n    getoPosition,\n    getXY,\n    hightLightElement\n}","export default{\n    EASYSHARECONTAINER:\"easyshare-container\",\n    MENUID:\"easyshare-menu\",\n    SHAREID:\"easyshare-complete\",\n\n    WAITING:\"WAITING\",\n    RECORDING:\"RECORDING\",\n    PAUSE:\"PAUSE\",\n    RECORDED:\"RECORDED\",\n    FINNISHED:\"FINNISHED\",\n\n    REPLAYING:\"REPLAYING\",\n    REPLAYFINISHED:\"REPLAYFINISHED\"\n}","/**\r\n * Created by rowthan on 2017/11/19.\r\n */\r\nvar whatsElement = require('./dist/whatsElement');\r\nmodule.exports = whatsElement;","!function(e,t){var n=e.document,i=\"whats-element\",o=i+\"-tip-container\",r=i+\"-tip-delete\",a=i+\"-copy\",d=i+\"-unique-container\",l=i+\"-unique-id\",p=function(e){this.options=Object.assign({},{draw:!0},e),this.lastClick=n.body;var t=this;n.addEventListener(\"mousedown\",function(e){t.lastClick=e.target,t.focusedElement!==t.lastClick&&s.clean()})},s=p.prototype;function c(){n.querySelectorAll(\".\"+i+\"-active\").forEach(function(e){e.classList.remove(i+\"-active\")})}function u(e,t){var i=n.createElement(e||\"div\");return t&&(i.id=t),i}s.getUniqueId=function(e,t){if(!((e=e||this.lastClick)instanceof HTMLElement))return console.error(\"invalid input,not a HTML element\"),null;var i={wid:\"\",type:\"\"},o=e.id,r=e.name,a=e.tagName.toLowerCase(),d=e.type?e.type.toLowerCase():\"\",l=\"\";if((e.classList||[]).forEach(function(e){l+=\".\"+e}),\"body\"!==a&&\"html\"!==a||(i.wid=a,i.type=a),o&&n.getElementById(o)===e){var c=new RegExp(\"^[a-zA-Z]+\");t?c.test(o)&&(i.wid=a+\"#\"+o):i.wid=o,i.type=\"byId\"}if(!i.wid&&r&&n.getElementsByName(r)[0]===e&&(i.wid=r,i.type=\"byName\"),!i.wid&&l&&n.querySelector(a+l)===e&&(i.wid=a+l,i.type=\"byClass\"),\"radio\"===d){var u=a+\"[value='\"+e.value+\"']\";r&&(u+=\"[name='\"+r+\"']\"),n.querySelector(u)===e&&(i.wid=u,i.type=\"byValue\")}if(!i.wid){u=a;u=l?u+l:u,u=r?u+\"[name='\"+r+\"']\":u,s.getTarget(u)===e&&(i.wid=u,i.type=\"byMixed\")}if(!i.wid){u=a;u=l?u+l:u;var f=n.querySelectorAll(u);if(f&&f.length>0){for(var y=null,g=0;g<f.length;g++)if(e===f[g]){y=g+1;break}y&&(u=u+\":nth-child(\"+y+\")\",n.querySelector(u)===e&&(i.wid=u,i.type=\"byOrder\"))}}if(!i.wid){var h=p.prototype.getUniqueId(e.parentNode,!0).wid;if(!h)return;var m=a;l&&(m+=l);u=h+\">\"+m;if(n.querySelectorAll(u).length>1){u=null;y=null;for(var w=0;w<e.parentNode.children.length;w++)if(e.parentNode.children[w]===e){y=w+1;break}if(y>=1)u=h+\">\"+m+\":nth-child(\"+y+\")\",n.querySelector(u)!=e&&(u=null)}i.wid=u,i.type=\"byParent\"}return this.focusedElement=s.getTarget(i.wid),!t&&this.options.draw&&p.prototype.draw(i),i},s.getTarget=function(e){return n.getElementById(e)||n.getElementsByName(e)[0]||n.querySelector(e)},s.draw=function(t){var i=s.getTarget(t.wid);if(i){var f=n.getElementById(o)?n.getElementById(o):u(\"aside\",o);f.innerHTML=\"\",f.addEventListener(\"mousedown\",function(e){e.stopPropagation()});var y=u(\"div\",r);y.innerText=\"x\",y.onclick=function(e){e.stopPropagation(),p.prototype.clean()},f.appendChild(y);var g=u(\"div\",d),h=u(\"input\",l);h.readOnly=!0,h.className=t.type,h.value=t.wid;var m=u(\"div\",a);m.setAttribute(\"query-type\",t.type),m.innerText=\"复制\",m.onclick=function(){h.select(),n.execCommand(\"Copy\")},g.appendChild(h),g.appendChild(m),f.appendChild(g);var w=i.getBoundingClientRect().top+i.offsetHeight,x=i.getBoundingClientRect().left+e.screenX,b=x<100?x:x-(240|f.offsetWidth)/2+i.offsetWidth/2-n.body.getBoundingClientRect().left;f.style.left=b+\"px\",f.style.top=w+e.scrollY+10+\"px\",n.body.appendChild(f),c(),i.classList.add(\"whats-element-active\")}else console.error(\"no this element:\"+t.wid)},s.clean=function(){c();var e=n.getElementById(o);e&&(e.outerHTML=\"\")},void 0!==e&&null!==e&&(e.whatsElement=p),void 0!==e&&null!==e||(this.whatsElement=p),\"undefined\"!=typeof module&&module.exports&&(module.exports=p),\"function\"==typeof define&&define(function(){return p});var f=u(\"style\"),y=\"#\"+o+\"{position:absolute;color:#8ed3fb;font-size:14px;z-index:1000;background-color:rgba(255, 255, 255,0.9);box-sizing:border-box;box-shadow:rgba(0, 0, 0, 0.2) 0px 1px 10px 3px;padding: 10px 20px;border-radius: 36px;}\";y+=\"#\"+r+\"{cursor:pointer;position:absolute;top:-10px;width:20px;height: 20px;left:calc(50% - 8px);text-align:center;clip-path: polygon(50% 0,100% 50%,50% 100%,0 50%);background:#fff;}\",y+=\"#\"+r+\":hover{background:#fffbf0}\",y+=\"#\"+d+\"{display:flex;justify-content:space-around;}\",y+=\"#\"+l+\"{border:1px solid #d1d5da;box-shadow:inset 0 1px 2px rgba(27,31,35,0.075);text-indent:10px;}\",y+=\"#\"+a+\"{background:aliceblue;cursor: pointer;}\",y+=\"#\"+a+\"::after{position:absolute;z-index:1000000;padding: 0.1em 0.75em;color: #fff;text-align:center;text-shadow:none;text-transform:none;content:attr(query-type);background: #a88462;border-radius: 3px;opacity: 0;transition:all .5s}\",y+=\"#\"+a+\":hover:after{display:inline-block;opacity: 1;}\",y+=\".whats-element-active{outline:red 1px dashed !important}\",f.innerText=y,n.head.appendChild(f),e.whatsElement=p}(window);","import {  h,app } from \"hyperapp\"\nexport default function widget(easyshare){\n  const state = {\n    status: easyshare.status,\n    recordedSteps: easyshare.recordedSteps,\n    mousePosition :{x:easyshare.mousePosition.x,y:easyshare.mousePosition.y}\n  }\n    \n  const actions = {\n    refershState: value => state =>({\n      status: easyshare.status,\n      recordedSteps: easyshare.recordedSteps,\n      mousePosition :{x:easyshare.mousePosition.x,y:easyshare.mousePosition.y}\n    })\n  }\n\n  const record = (actions)=>{\n    easyshare.record()\n    actions.refershState()\n  }\n\n\n  const RecordButton = ({status,onclick}) =>(\n    <button onclick={onclick}>\n      {status}\n    </button>\n  )\n  \n\n  const view = (state, actions) => (\n    <div oncreate={easyshare.onStateChange = function(){actions.refershState();console.log(state)}}>\n      <div style={{position:\"absolute\",left:state.mousePosition.x+\"px\",top:state.mousePosition.y+\"px\",transition:\".5s\"}}>\n        {\n          state.status == \"WAITING\"\n          &&\n          <span>\n            <RecordButton status={state.status} onclick={()=>{record(actions)}}></RecordButton>  \n            <button onclick={easyshare.makelink}>\n              生成链接\n            </button>\n          </span>\n         \n        }\n      </div>\n    </div>\n  )\n  app(state, actions, view, document.body)\n}","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n"],"sourceRoot":""}