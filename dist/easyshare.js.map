{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/document.js","webpack:///./src/constant.js","webpack:///./src/index.js","webpack:///./src/easyshare.js","webpack:///./node_modules/_whats-element@1.1.1@whats-element/pure.js","webpack:///./src/widget.js","webpack:///./node_modules/_hyperapp@1.2.9@hyperapp/src/index.js","webpack:///./src/widget.css","webpack:///./node_modules/_whats-element@1.1.1@whats-element/src/helper.js","webpack:///./node_modules/_whats-element@1.1.1@whats-element/src/whatsElementPure.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getXY","window","e","touch","touches","changedTouches","x","pageX","y","pageY","event","clientX","getScroll","clientY","documentTarget","document","documentElement","body","pageXOffset","scrollLeft","pageYOffset","scrollTop","gotoPosition","targetX","arguments","length","undefined","targetY","callback","timer","setInterval","_getScroll","beforeScrollLeft","beforeScrollTop","distanceX","distanceY","scrollTo","setScroll","Math","floor","_getScroll2","afterScrollLeft","clearInterval","hightLightElement","element","text","hightlight","highlightElements","querySelectorAll","ele","originText","dataset","outerHTML","left","replaceWhat","replace","finder","RegExp","highlightbk","matched","getViewPosition","elem","box","getBoundingClientRect","top","SHARENAME","WAITING","INITCOMPELETE","RECORDING","PAUSE","RECORDED","RECORDFAIL","FINNISHED","REPLAYING","PLAYANDWAIT","REPLAYFINISHED","EasyShare","options","easy","easyshare","_widget2","default","_this","this","assign","autoReplay","maxMarkNumber","stepSplit","valueSplit","recordedSteps","runindex","NULL","targetInfo","status","nextTimer","runningTimer","splitStep","splitValue","nameid","constant","location","NOCODE","addEventListener","search","decodeURI","indexOf","searchArray","substr","split","queryPar","index","_ret","values","substring","replaySteps","forEach","tempStep","id","tip","push","levent","onselectionchange","target","handleUp","_document","position","selectdText","getSelection","toString","trim","whats","getUniqueId","anchorNode","parentNode","wid","onStateChange","record","forceRecord","maxNn","alert","console","log","storeResult","makelink","splice","getTarget","isActive","remove","stepIndex","replay","goto","autoNext","_this2","timeout","runStep","targetEl","clearTimeout","gotoX","innerWidth","gotoY","innerHeight","setTimeout","share","currentUrl","href","indexShare","step","keyindex","code","Error","history","pushState","message","set","whatsPure","whatsElement","state","ballPos","showBall","showMenu","actions","refershState","setBallPos","toggleShowBall","toggleMenu","RecordButton","_ref","onclick","_hyperapp","h","Menu","_ref2","title","style","visibility","right","className","menu","viewBox","version","width","height","aria-hidden","fill-rule","background","StepSign","_ref3","_ref3$running","running","stepSign","transform","StepTag","_ref4","class","point","active","writing","display","p-id","fill","contentEditable","oninput","innerText","modify","border","edit","marginTop","delete","fontSize","color","float","borderRadius","originTip","result","saveResult","app","easyshareContainer","oncreate","aftercreate","transition","userSelect","stopPropagation","preventDefault","_getViewPosition","currentTarget","startTop","startLeft","_getViewPosition2","getElementById","targetTop","targetLeft","a","b","move","recordBall","recording","map","attributes","rest","children","node","pop","nodeName","view","container","skipRender","rootElement","oldNode","recycleElement","toLowerCase","childNodes","nodeType","nodeValue","lifecycle","isRecycling","globalState","clone","wiredActions","wireStateToActions","path","action","data","getPartialState","then","scheduleRender","setPartialState","concat","resolveNode","render","patch","parent","isSvg","newElement","createElement","createTextNode","createElementNS","appendChild","updateAttribute","insertBefore","removeElement","oldAttributes","cb","onupdate","updateElement","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","getKey","k","newKey","keyedNode","source","out","slice","eventListener","events","type","oldValue","cssText","setProperty","removeEventListener","setAttribute","removeAttribute","done","removeChild","removeChildren","ondestroy","onremove","__webpack_exports__","getCoords","docEl","clientTop","clientLeft","round","whatsElementPure_document","noop","whatsElementPure","init","argument","draw","simpleId","lastClick","that","focusedElement","clean","initFunction","whatsElementPure_prototype","HTMLElement","error","viewLeft","viewTop","tag","tagName","classList","item","regExp","test","getElementsByName","querySelector","classLength","queryCount","pow","queryString","elements","parentQueryResult","parentQueryString","targetQuery","j","__proto__"],"mappings":"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","file":"easyshare.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","\n\nconst IS_TOUCH = 'ontouchstart' in window,\n//TODO 优化移动设备\n getXY = IS_TOUCH\n? e => {\nconst touch = e.touches[0] || e.changedTouches[0]\nreturn touch ? {\n    x: touch.pageX,\n    y: touch.pageY\n} : { x: 0, y: 0 }\n}\n: e => {\n   var e = event || window.event;\n   var x = e.pageX || e.clientX + getScroll().x;\n   var y = e.pageY || e.clientY + getScroll().y;\n   return { 'x': x, 'y': y };\n},\n\nhightLightElement = function (element,text,hightlight=true){\n    if(!element || !text){\n        return\n    }\n    const highlightElements = element.querySelectorAll(\"b[data-highlight='easyshare']\")\n    //还原高亮，即便是高亮 也要先还原高亮\n    for(let i=0; i<highlightElements.length; i++){\n        const ele = highlightElements[i],originText = ele.dataset['origintext'] || ele.outerHTML\n        //如果是其他步骤高亮的则不还原\n        if(originText!=text){\n            continue;\n        }\n        ele.outerHTML = originText\n    }\n    // 如果是还原 则不进行之后操作\n    if(!hightlight){\n        element.dataset.highlightbk=\"no\"\n        return\n    }\n    \n    //高亮\n    const left = '<b data-highlight=\"easyshare\" data-origintext=\"'+text+'\">',\n        right = '</b>',\n        replaceWhat = \">.*?\"+text.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')+\".*?<\",\n        finder = new RegExp(replaceWhat, 'g');\n\n    // 存在错误的情况，元素属性中包含使用引号值中包含 <> 符号 时\n    element.dataset.highlightbk=\"yes\"\n    element.outerHTML = element.outerHTML.replace(finder,function(matched){\n        return matched.replace(text,left+text+right)\n    })\n    //TODO 增加背景突显动画\n}\n\n\nconst gotoPosition = function(targetX=0,targetY=0,callback){\n    const timer = setInterval(function () {\n        //移动前\n        const { x:beforeScrollLeft,y:beforeScrollTop} = getScroll();\n        const distanceX = targetX - beforeScrollLeft\n        , distanceY =  targetY - beforeScrollTop\n        \n        //移动后\n        setScroll(beforeScrollLeft+Math.floor(distanceX/6),Math.floor(beforeScrollTop+distanceY/6))\n        \n        const {x:afterScrollLeft,y:afterScrollTop} = getScroll()\n        \n        if(beforeScrollTop === afterScrollTop && beforeScrollLeft === afterScrollLeft){\n            clearInterval(timer)\n            typeof callback === \"function\" && callback()\n        }\n    },30)\n    return timer\n}\n\nconst documentTarget = document.documentElement || document.body\nfunction getScroll(){\n    var x = window.pageXOffset || documentTarget.scrollLeft || documentTarget.scrollLeft;\n    var y = window.pageYOffset || documentTarget.scrollTop || documentTarget.scrollTop;\n    return {x,y}\n}\n\nfunction setScroll(x,y){\n    documentTarget.scrollLeft = x;\n    documentTarget.scrollTop = y;\n    window.scrollTo(x,y)\n}\n\n//TODO 获取元素位于body相对位置信息 getViewPosition + getScroll\n\nfunction getViewPosition(elem) { // crossbrowser version\n    var box = elem.getBoundingClientRect();\n    return { top: box.top, left: box.left };\n}\n\nexport {\n    gotoPosition,\n    getXY,\n    hightLightElement,\n    getViewPosition\n}","export default{\n    SHARENAME:\"easyshare\",\n    WAITING:0,\n    INITCOMPELETE:1,\n    RECORDING:2,\n    PAUSE:3,\n    RECORDED:4,\n    RECORDFAIL:5,\n    FINNISHED:6,\n    REPLAYING:7,\n    PLAYANDWAIT:8,\n    REPLAYFINISHED:9\n}","import easyshare from './easyshare'\nimport widget from './widget'\n\nexport default function EasyShare(options){\n    const easy = new easyshare(options)\n    widget(easy)\n    return easy\n}\nwindow.EasyShare = EasyShare\n\n\n\n","import {gotoPosition,getXY,hightLightElement} from './document'\nimport constant from './constant'\nimport whatsPure from 'whats-element/pure'\n//whats getTarget try catch \n//将所有常用量进行存储 此处是全局 避免和原本常亮冲突 放到 constant里面\nconst whats = new whatsPure(),NULL = null\n\nexport default function Easyshare(options){\n    this.options = Object.assign({autoReplay:true,maxMarkNumber:10,stepSplit:\"e_o\",valueSplit:\":)\"},options)\n    this.recordedSteps = []\n    this.runindex = NULL\n    this.targetInfo = {}\n    let status=NULL,nextTimer = NULL, runningTimer = NULL\n    //做成可配置项\n    const splitStep = this.options.stepSplit,splitValue=this.options.valueSplit,nameid = constant.SHARENAME,location = window.location,\n    nullValue = \"\",numberAfter=\"_hash_\",numberCode = \"#\", //中文 ! # & @ 不能作为分割词。 建议使用非对称 (→o←) -_-||\n    NOCODE = [splitStep,splitValue];\n    window.addEventListener(\"load\", ()=> {\n        const search = decodeURI(location.search).replace(new RegExp(numberAfter,\"g\"),numberCode)\n        if(search.indexOf(nameid)===-1){\n            return\n        }\n\n        const searchArray = search.substr(1).split(\"&\");\n        for(let i=0 ; i < searchArray.length; i++){\n            const queryPar  = searchArray[i],\n            index = queryPar.indexOf(\"=\")\n            if(index>-1){\n                const values = queryPar.substring(index+1),replaySteps = []\n                //获取到EasyShare数据字符串 解析为对象\n                values.split(splitStep).forEach(value=>{\n                    const values = value.split(splitValue),\n                        tempStep = {\n                            x:values[0],\n                            y:values[1],\n                            id:values[2],\n                            text:values[3],\n                            tip:values[4] || values[3]\n                        }\n                        replaySteps.push(tempStep)\n                    })\n                    this.status = constant.INITCOMPELETE\n                    this.recordedSteps = replaySteps\n                break\n            }\n        }\n    });\n\n    \n    let levent = null\n    \n    if(\"ontouchstart\" in window){\n        document.addEventListener(\"touchstart\",(e)=>{\n            levent = e\n        })\n        document.onselectionchange = (e)=>{\n            if(levent.target && levent.target.id!=\"record\"){\n                handleUp.call(this,getXY(levent))\n            }\n        }\n    }else{\n        document.addEventListener(\"mouseup\" , (e)=>{\n            handleUp.call(this,{x:e.pageX,y:e.pageY})\n        } )\n    }\n    function handleUp(position){\n        \n        const selectdText = document.getSelection().toString().trim();\n\n        if(this.status == constant.WAITING && selectdText === this.targetInfo.text){\n            return\n        }\n        if(selectdText){\n            this.targetInfo = {\n                x:position.x,\n                y:position.y,\n                text:selectdText.substring(0,30),\n                tip:selectdText,\n                id: whats.getUniqueId(document.getSelection().anchorNode.parentNode).wid\n            }\n            \n            this.status = (this.status === constant.REPLAYING || this.status === constant.PLAYANDWAIT) ? constant.PLAYANDWAIT : constant.WAITING\n        }else{\n            this.targetInfo = {}\n            this.status = constant.PAUSE\n        }\n    }\n\n    this.onStateChange = function(){}\n    \n    // success: true,faild:false\n    this.record = function(forceRecord=false){   \n        const maxNn = this.options.maxMarkNumber\n        if(this.recordedSteps.length>=maxNn){\n            alert(\"标记失败！最大标记数量为 \"+maxNn)\n            return false\n        }\n        // 如果当前状态不为等待记录 且不是强行记录时\n        if(!forceRecord && this.status!=constant.WAITING){\n            console.log(\"当前状态不可记录\")\n            return false;\n        }\n        const targetInfo = this.targetInfo;\n        \n        this.status = constant.RECORDING\n        \n        this.recordedSteps.push(targetInfo)\n        //记录内容字符串存储过程错误，进行回滚操作\n        const storeResult = this.makelink()\n        if(storeResult){\n            alert(storeResult)\n            this.recordedSteps.splice(-1,1)\n            this.status = constant.RECORDFAIL\n            return false\n        }\n        hightLightElement(whats.getTarget(targetInfo.id),targetInfo.text)    \n        targetInfo.isActive = true   \n        this.status = constant.RECORDED\n        return true\n    }\n    \n    this.remove = function(stepIndex){\n        //删除所有\n        if(stepIndex<0){\n            while(this.recordedSteps.length>0){\n                this.replay(0,false,false)\n                this.recordedSteps.splice(0,1)\n            }\n        }else{\n            this.replay(stepIndex,false,false)\n            this.recordedSteps.splice(stepIndex,1)\n        }\n        this.makelink()\n    }\n\n    this.replay = function(index=0,goto=true,hightlight=true,autoNext,replaySteps,timeout=5000){\n        //TODO 根据当前窗口与记录时候窗口大小进行比较，如果差异较大 则进行提示 可能定位不准确的情况\n        replaySteps = replaySteps || this.recordedSteps;\n        const runStep = replaySteps[index]\n        if(!runStep){\n            this.status = constant.REPLAYFINISHED\n            return \n        }\n        const {x,y,id,text} = runStep, targetEl = id ? whats.getTarget(id) : NULL\n        \n        clearInterval(runningTimer)\n        clearTimeout(nextTimer)\n        runningTimer = nextTimer = NULL\n        //开始滚动\n        this.runindex = index\n        this.status = constant.REPLAYING\n        runStep.isActive = hightlight\n        \n        targetEl &&  hightLightElement(targetEl,text,hightlight)\n        if(goto){\n            const gotoX = x-window.innerWidth/2,gotoY = y-window.innerHeight/2;\n            runningTimer = gotoPosition(gotoX,gotoY,()=>{\n                this.runindex = NULL\n                if(autoNext){\n                    nextTimer = setTimeout(()=>this.replay(index+1,goto,hightlight\n                        ,autoNext,replaySteps,timeout),timeout)\n                }else{\n                    this.status = constant.REPLAYFINISHED\n                    clearTimeout(nextTimer)\n                }\n            })\n        }else{\n            this.runindex = NULL\n            this.status = constant.REPLAYFINISHED\n        }\n        //TODO 存在 targetEl 时，使用定位该元素窗口居中效果 否则 使用滚动效果\n    }\n\n    //success no return; failed return errorMsg\n    this.makelink = () => {\n        try{\n            let share = \"&\"+nameid+\"=\",\n                currentUrl = location.href,\n                indexShare = currentUrl.indexOf(\"&\"+nameid)\n            \n            if(location.search==\"\"){\n                currentUrl += \"?\"\n            }\n            if(indexShare>-1){\n                currentUrl = currentUrl.substr(0,indexShare)\n            }\n\n            if(this.recordedSteps.length===0){\n                share=\"\"\n            }else{\n                this.recordedSteps.forEach((step,index) => {\n                    share += index!=0 ? splitStep:\"\";\n                    var keys = [\"x\",\"y\",\"id\",\"text\",\"tip\"]\n                    keys.forEach((key,keyindex)=>{\n                        let value = (step[key] || nullValue).toString().replace(new RegExp(numberCode,\"g\"),numberAfter)\n                        \n                        NOCODE.forEach(code=>{\n                            if(value.indexOf(code)>-1){\n                                throw Error(`选中文字、提示信息不得包含：${code}`)\n                            }\n                        })\n                        \n                        if((key==\"id\" && value.length > 35) || (key==\"tip\" && step[\"tip\"]===step[\"text\"])){\n                            value = nullValue\n                        }\n                        share += keyindex!=0 ? splitValue+value : value\n                    })\n                });\n                if(this.options.autoReplay){\n                    share += \"&autoreplay=true\"\n                }\n            }\n            history.pushState(\"\", nameid, currentUrl+share);\n        }catch(e){\n            return e.message\n        }\n    }\n\n    Object.defineProperty(this,\"status\",{get:()=>{return status},set:(value=>{\n        status=value;\n        this.onStateChange(status)\n    })})\n    Object.defineProperty(this,\"version\",{value:\"0.0.5\"})\n}","/**\n * Created by rowthan on 2017/11/19.\n */\nvar whatsElement= require('./src/whatsElementPure')\nmodule.exports = whatsElement.default;","import {  h,app } from \"hyperapp\"\nimport style from \"./widget.css\"\nimport constant from './constant'\nimport { getViewPosition } from \"./document\";\n\n// var css = {\n//   menu:`.menu{\n//       position:absolute;\n//       right:0px;\n//       width: 20px;\n//       height: 18px;\n//       transform: scale(1);\n//       background: #e6e6e6;\n//       border-radius: 25%;\n//       text-align:center;\n//       transition:.5s;\n//       cursor:pointer;\n//       box-shadow:0 2px 4px 0 rgba(0,0,0,.04)\n//   }`\n// }\n\n// var styles = document.createElement(\"style\")\n// for(let c in css){\n//   styles.innerHTML += css[c].replace(/\\s*/g,\"\");\n// }\n// document.head.appendChild(styles)\n\n//TODO 增加dev 视图展示所有state信息 方便手机端调试\nexport default function widget(easyshare){\n  const state = {\n    //来自easyshare的状态\n    status: \"\",\n    recordedSteps: easyshare.recordedSteps,\n    targetInfo: easyshare.targetInfo,\n    runindex:null,\n\n    //自定义state\n    ballPos:{},\n    showBall:false,\n    showMenu:false\n  }\n    \n  const actions = {\n    refershState: value => state =>({\n      status: easyshare.status,\n      recordedSteps: easyshare.recordedSteps,\n      targetInfo: easyshare.targetInfo,\n      runindex:easyshare.runindex\n    }),\n    setBallPos: value=> state =>({\n      ballPos: value\n    }),\n    toggleShowBall: value=> state => ({\n      showBall:value\n    }),\n    toggleMenu: value=> state=>({\n      showMenu:!state.showMenu\n    })\n  }\n\n  const aftercreate = (actions)=>{\n    setTimeout(()=>{\n      actions.refershState()\n      if(window.location.search.indexOf(\"autoreplay\")>-1){\n        easyshare.replay(0,true,true,true)\n      }\n    },1000)\n  }\n\n  const record = (e,actions)=>{\n    e.stopPropagation()\n    e.preventDefault()\n\n    let {top:startTop,left : startLeft} = getViewPosition(e.currentTarget)\n    let {top:targetTop,left: targetLeft} = getViewPosition(document.getElementById(\"easyshare-menu\"))\n    \n    const a = (targetTop/targetLeft-startTop/startLeft)/(targetLeft - startLeft);\n    const b = targetTop/targetLeft - a*targetLeft;\n    \n    let inc = 30;\n    actions.toggleShowBall(true)\n    const move = setInterval(()=>{\n      if(startLeft<=targetLeft){\n        startLeft += targetLeft-startLeft<=10 ? 1 : inc;\n        startTop = a*startLeft*startLeft + b*startLeft\n        actions.setBallPos({left:startLeft,top:startTop})\n      }\n      else{\n        actions.toggleShowBall(false)\n        easyshare.record()\n        clearInterval(move)\n    }\n    },10)\n  }\n\n  const RecordButton = ({status,onclick}) =>(\n    <button id=\"record\" onclick={onclick}>\n      {status===constant.WAITING && \"记录此处\"}\n      {status===constant.REPLAYING && \"结束播放后可进行记录\"}\n      {status===constant.PLAYANDWAIT && \"结束播放后可进行记录\"}\n    </button>\n  )\n\n  const Menu = ({state,actions})=>(\n    <div title=\"菜单\"\n      id=\"easyshare-menu\"\n      style={{\n        position:\"absolute\",\n        visibility:state.recordedSteps.length>0?\"visible\":\"hidden\",\n        right:0,\n        top:state.recordedSteps.length*15+20+\"px\",\n      }}\n    >\n      <div className={style.menu} onclick={actions.toggleMenu}>\n        <svg  viewBox=\"0 0 8 16\" version=\"1.1\" width=\"20\" height=\"16\" aria-hidden=\"true\">\n          <path fill-rule=\"evenodd\" d=\"M8 4v1H0V4h8zM0 8h8V7H0v1zm0 3h8v-1H0v1z\"></path>\n        </svg>\n      </div>\n      {\n        state.showMenu && \n        <div style={{position:\"fixed\",width:\"300px\",height:\"100px\",\n          background:\"pink\",top:\"30%\",left:\"calc(50% - 150px)\"}}>\n          <div>\n            基础信息 、设置、签名\n          </div>\n          {/* remove 后需要清空 state值 */}\n          <button onclick={()=>{easyshare.remove(-1);actions.toggleMenu()}}>删除所有</button>\n          <button>还原所有</button>\n          打开网页时，自动播放\n          这是来自 user 的分享\n          \b<p>\n            已记录{easyshare.recordedSteps.length}条标记。\n          </p>\n        </div>\n      }\n    </div>\n  )\n  //TODO 在视口范围内则激活 否则关闭\n  const StepSign = ({step,running=false,index})=>(\n    <span title=\"点击\"\n          className={style.stepSign}\n          style={{\n            top:(index+1)*15+\"px\",\n            transform: `scale(${running?2:1})`,\n            //TODO running 增加动画效果\n            background: step.isActive?\"#cdef5b\":\"#b7b7b7\",\n          }}\n          onclick={()=>{easyshare.replay(index,true,!step.isActive)}}\n    >\n    </span>\n  )\n\n  const StepTag = ({step,index,actions})=>(\n    <div style={{position:\"absolute\",top:step.y+\"px\",left:step.x+\"px\"}}>\n      <aside title=\"点击查看\"  class={`${style.point} ${step.isActive?style.active:\"\"}`}\n        onclick={()=>{step.writing=false;easyshare.replay(index,false,!step.isActive)}} >\n        <svg style={{position:\"absolute\",display:step.isActive?\"\":\"none\"}}  viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"10\" height=\"10\">\n          <path d=\"M192 448l640 0 0 128-640 0 0-128Z\" p-id=\"4227\" fill=\"#fff\"></path>\n        </svg>\n      </aside>\n      {\n        step.isActive && \n        <div className={style.box}>\n          <div contentEditable={step.writing===true}\n          // 节流处理 oninput\n            oninput={(e)=>{const value = e.target.innerText; step.modify = value;actions.refershState()}}\n            style={{width:\"100%\",border:`${step.writing?1:0}px solid`}}>\n            {step.tip}\n          </div>\n          <span className={style.edit} onclick={()=>{step.writing=true;easyshare.replay(index)}}>\n              <svg style=\"\" viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"20\" height=\"20\"> \n              <path d=\"M924.766 187.485c-32.297-32.412-62.339-68.774-99.757-95.411-34.261-7.093-50.787 29.928-74.311 47.237 39.777 46.201 86.117 87.013 128.923 130.718 19.407-23.095 65.369-46.724 45.145-82.543zM903.499 362.026c-27.158 27.294-55.258 53.806-81.519 82.146-0.648 109.327 0.273 218.642-0.375 327.946-0.545 40.3-35.851 76.004-76.13 77.445-165.797 0.65-331.717 0.65-497.513 0.127-44.75-1.191-80.6-44.103-77.048-88.058-0.125-158.274-0.125-316.403 0-474.533-3.406-43.84 32.55-85.968 76.797-87.535 109.85-1.451 219.739 0.125 329.462-0.794 28.495-25.717 54.737-53.942 82.063-80.976-146.242 0-292.337-0.773-438.557 0.397-68.274 1.18-129.445 60.898-130.614 129.403-0.272 184.515-0.793 368.895 0.25 553.399 0.272 66.414 56.7 124.012 122.091 130.322l574.541 0c61.944-10.884 115.115-64.972 115.907-129.403 1.839-146.576 0.399-293.297 0.649-439.883zM859.669 290.243c-43.058-43.309-86.365-86.357-129.946-129.142-95.309 94.619-190.867 188.987-285.63 284.128 42.91 43.182 86.094 86.22 129.674 128.871 95.433-94.484 190.718-189.238 285.902-283.856zM373.604 643.78c58.392-15.877 89.499-25.874 147.911-41.616 15.607-4.973 25.989-7.98 33.992-11.167-41.345-39.369-88.852-87.891-130.072-127.523-17.32 60.106-34.534 120.201-51.832 180.305z\" p-id=\"2079\" fill=\"#ffffff\">\n              </path>\n              </svg>\n          </span>\n          {\n            step.writing &&\n            <div style={{marginTop:\"5px\"}}>\n              <a className={style.delete} onclick={()=>easyshare.remove(index)} title=\"删除\">\n                <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"20\" height=\"20\">\n                      <path d=\"M223.595474 318.284043l24.022113 480.742089c0 54.376445 44.989657 98.456383 100.485599 98.456383l331.963601 0c55.494918 0 100.489692-44.078914 100.489692-98.456383l23.109324-480.742089L223.595474 318.284043zM831.749418 284.181341c0.099261-20.274766 0.158612-21.623483 0.158612-22.981411 0-52.871161-31.298843-81.888032-73.29533-81.888032l-116.892267 0.122797c0-27.751041-27.105335-50.245358-54.855352-50.245358L441.349917 129.189338c-27.744901 0-55.727209 22.494317-55.727209 50.245358l-117.013017-0.122797c-46.387493 0-73.29533 35.359322-73.29533 81.888032 0 1.363044 0.054235 2.706645 0.158612 22.981411l636.281561 0L831.749418 284.181341zM614.168937 444.615287c0-15.32708 12.421914-27.750017 27.744901-27.750017 15.32708 0 27.750017 12.422937 27.750017 27.750017l0 317.882907c0 15.328104-12.422937 27.751041-27.750017 27.751041-15.322987 0-27.744901-12.422937-27.744901-27.751041L614.168937 444.615287 614.168937 444.615287zM485.85862 444.615287c0-15.32708 12.42703-27.750017 27.751041-27.750017 15.32708 0 27.750017 12.422937 27.750017 27.750017l0 317.882907c0 15.328104-12.422937 27.751041-27.750017 27.751041-15.322987 0-27.751041-12.422937-27.751041-27.751041L485.85862 444.615287 485.85862 444.615287zM357.63733 444.615287c0-15.32708 12.422937-27.750017 27.751041-27.750017 15.321964 0 27.750017 12.422937 27.750017 27.750017l0 317.882907c0 15.328104-12.42703 27.751041-27.750017 27.751041-15.328104 0-27.751041-12.422937-27.751041-27.751041L357.63733 444.615287 357.63733 444.615287zM357.63733 444.615287\" fill=\"#fff\"></path>\n                </svg>\n              </a>\n             \n             <span>\n              <span style={{fontSize:\"12px\",color:\"#bbb\"}}> Tip:放弃保存请点击左上角，关闭编辑窗口</span>\n              <a style={{float:\"right\",height:\"20px\",background:\"#fff\",borderRadius:\"5px\"}} href=\"javascript:;\" \n                title=\"保存\" onclick={()=>{\n                const value = step.modify!=undefined?step.modify:step.tip ;\n                const originTip = step.tip;\n                step.tip = value; \n                const result = easyshare.makelink();\n                const saveResult = result == undefined;\n                !saveResult && alert(result)\n                step.writing = !saveResult\n                step.tip = saveResult?value:originTip\n                }}>\n                  <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"20\" height=\"20\">\n                      <path d=\"M725.333333 128 213.333333 128C166.4 128 128 166.4 128 213.333333l0 597.333333c0 46.933333 38.4 85.333333 85.333333 85.333333l597.333333 0c46.933333 0 85.333333-38.4 85.333333-85.333333L896 298.666667 725.333333 128zM512 810.666667c-72.533333 0-128-55.466667-128-128s55.466667-128 128-128c72.533333 0 128 55.466667 128 128S584.533333 810.666667 512 810.666667zM640 384 213.333333 384 213.333333 213.333333l426.666667 0L640 384z\"  fill=\"#949494\"></path>\n                  </svg>\n                </a>\n             </span>\n            </div>\n          }\n          \n        </div>\n      }\n    </div>\n  )\n\n\n  const view = (state, actions) => (\n    <div id={style.easyshareContainer} oncreate={()=>{easyshare.onStateChange = function(){actions.refershState()};aftercreate(actions)}}>\n      <div style={{\n        position:\"absolute\",\n        left:state.targetInfo.x +\"px\",\n        top:state.targetInfo.y+\"px\",\n        transition:\".5s\",\n        userSelect:\"none\"\n        }}>\n        {\n          (state.status === constant.WAITING || state.status === constant.PLAYANDWAIT)\n          &&\n          <RecordButton status={state.status} onclick={(e)=>{record(e,actions)}}></RecordButton>  \n        }\n      </div>\n      <div className={`${style.recordBall} ${state.showBall?style.recording:\"\"}`} \n          style={{top:state.ballPos.top+\"px\",left:state.ballPos.left+\"px\"\n        }}>\n      </div>\n      {\n        state.recordedSteps.map((record,index)=>(\n          <StepTag key={index} step={record} index={index} actions={actions}></StepTag>\n        ))\n      }\n      \n      <aside style={{position:\"fixed\",right:0,top:window.innerHeight/2-(state.recordedSteps.length+1)*15/2+\"px\"}}>\n          <div style={{position:\"relative\",right:\"6px\"}}>\n            {\n              state.recordedSteps.map((record,index)=>(\n                <StepSign  key={index} step = {record} running={index===state.runindex} index={index}/>\n              ))\n            }\n          </div>\n          <Menu state={state} actions={actions}/>\n      </aside>\n    </div>\n  )\n  app(state, actions, view, document.body)\n}","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"easyshareContainer\":\"zX5\",\"box\":\"_3Dr\",\"point\":\"zzj\",\"active\":\"QVz\",\"edit\":\"_1Dn\",\"delete\":\"_2kz\",\"menu\":\"_3lO\",\"stepSign\":\"_3ls\",\"recordBall\":\"_3P0\",\"recording\":\"_1k7\"};","function getCoords(elem) {\n    var box = elem.getBoundingClientRect();\n    var body = document.body;\n    var docEl = document.documentElement;\n    var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n    var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n    var clientTop = docEl.clientTop || body.clientTop || 0;\n    var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n    var top  = box.top +  scrollTop - clientTop;\n    var left = box.left + scrollLeft - clientLeft;\n    return { top: Math.round(top), left: Math.round(left) };\n}\n\nfunction initFunction(){\n    var init =  function (argument) {\n        this.options = Object.assign({},{\n            draw:true,\n            /**尽可能短的wid*/\n            simpleId:true\n        },argument)\n        this.lastClick = document.body\n        var that = this\n        /**点击其他地方时，清除*/\n        document.addEventListener('mousedown', function(event){\n            that.lastClick = event.target\n            if(that.focusedElement!==that.lastClick){\n              init.prototype.clean()\n            }\n        })\n    }\n    return init;\n}\n\nexport {\n    getCoords,\n    initFunction\n}","/**\n * Created by rowthan on 2017/12/9. TODO show size\n * 包含核心 api 获取id,获取元素，不含UI\n */\nimport {getCoords,initFunction} from \"./helper\";\nvar document = window.document,noop = function(){},\nwhatsElementPure = initFunction(),\nprototype = whatsElementPure.prototype\nprototype.getUniqueId = function (element,parent) {\n    element = element ? element : this.lastClick;\n    if(!(element instanceof HTMLElement)){\n        console.error(\"input is not a HTML element\");\n        return {};\n    }\n    var result = {\n        wid:\"\",\n        type:\"\",\n        top:getCoords(element).top,\n        left:getCoords(element).left,\n        viewLeft:element.getBoundingClientRect().left,\n        viewTop: element.getBoundingClientRect().top,\n        text: element.innerText\n    },\n    //construct data info of the element\n      id = element.id,\n      name = element.name,\n      tag = element.tagName.toLowerCase(),\n      type = element.type?element.type.toLowerCase():\"\",\n      className = \"\",\n      classList = element.classList || [];\n      classList.forEach(function (item) {\n        className += \".\"+item;\n      })\n    if(tag===\"body\" || tag=== \"html\"){\n        result.wid = tag;\n        result.type= tag;\n    }\n    //location by id\n    if(id && document.getElementById(id) === element){\n        var regExp= new RegExp(\"^[a-zA-Z]+\") ;\n        /**当不为parent定位，且设置为简单结果时，直接返回id 否则使用完整路径标识符。注：两个if顺序不能更换，递归调用时 simpleId为undefined*/\n        if(!parent && this.options.simpleId){\n            result.wid = id;\n        }\n        /*如果为parent定位，或者设置为完整结果时候，返回tag#id*/\n        else if(regExp.test(id)){\n            result.wid = tag+\"#\"+id\n        }\n        result.type = \"document.getElementById()\"\n    }\n    //location by name\n    if(!result.wid && name && document.getElementsByName(name)[0] === element){\n        result.wid = name;\n        result.type = \"document.getElementsByName()\"\n    }\n    //location by class\n    if(!result.wid && className && document.querySelector(tag+className)===element){\n        result.wid = tag+className;\n        result.type = \"document.querySelector()\"\n        var classLength = classList.length\n        if(classLength>2){\n          var n = 1,\n          /**使用class查询的个数，如2，4，8：使用2，4，8个className做查询*/\n          queryCount = []\n          while (Math.pow(2,n)<classLength){\n              queryCount.push(Math.pow(2,n));\n              n++;\n          }\n          queryCount.push(classLength)\n\n          for(var k=0; k<queryCount.length;k++){\n              /**使用class个数去查询*/\n              var countNum = queryCount[k];\n                //TODO 性能优化\n          }\n        }\n    }\n    //for radio\n    if(type === \"radio\"){\n        var value = element.value,queryString = tag+\"[value='\"+value+\"']\"\n        if(name){\n            queryString += \"[name='\"+name+\"']\"\n        }\n        if(document.querySelector(queryString)===element){\n            result.wid = queryString\n            result.type = \"document.querySelector()\"\n        }\n    }\n    //location by mixed,order\n    if(!result.wid){\n        queryString = tag;\n        queryString = className ? queryString +className: queryString\n        queryString = name? queryString + \"[name='\"+name+\"']\": queryString\n        if(prototype.getTarget(queryString)===element){\n            result.wid = queryString\n            result.type = \"document.querySelector()\"\n        }\n    }\n    //location by order\n    if(!result.wid){\n        queryString = tag\n        queryString = className ? queryString +className: queryString\n\n        var elements = document.querySelectorAll(queryString)\n        if(elements && elements.length>0){\n            var index = null\n            for(var i=0; i<elements.length; i++){\n                if(element===elements[i]){\n                    index = i+1;\n                    break;\n                }\n            }\n            if(index){\n                queryString = queryString + \":nth-child(\"+index+\")\"\n                if(document.querySelector(queryString) === element){\n                    result.wid = queryString\n                    result.type = \"document.querySelector()\"\n                }\n            }\n        }\n    }\n    //location by parent\n    if(!result.wid){\n        if(!element.parentNode){\n            return\n        }\n        var parentQueryResult = whatsElementPure.prototype.getUniqueId(element.parentNode,true),\n          parentQueryString = parentQueryResult?parentQueryResult.wid:\"\";\n        if(!parentQueryString){\n            return{\n                wid:\"\",\n                type:\"NO_LOCATION\"\n            };\n        }\n        var targetQuery = tag;\n        if(className){\n            targetQuery += className;\n        }\n          queryString = parentQueryString+\">\"+targetQuery\n          var queryElements = document.querySelectorAll(queryString);\n        if(queryElements.length>1){\n            queryString = null;\n            var index = null;\n            for(var j=0; j<element.parentNode.children.length; j++){\n                if(element.parentNode.children[j]===element){\n                    index = j+1;\n                    break;\n                }\n            }\n            if(index>=1){\n                queryString = parentQueryString+\">\"+ targetQuery + \":nth-child(\"+index+\")\";\n                var queryTarget = document.querySelector(queryString);\n                if(queryTarget!=element){\n                    queryString = null;\n                }\n            }\n        }\n        result.wid = queryString\n        result.type = \"document.querySelector()\"\n    }\n\n    this.focusedElement = prototype.getTarget(result.wid);\n    if(!parent && this.options.draw ){\n        this.__proto__.draw(result);\n    }\n    return result\n}\nprototype.getTarget = function (queryString) {\n    return document.getElementById(queryString) || document.getElementsByName(queryString)[0] || document.querySelector(queryString);\n}\n\nprototype.clean = noop\nprototype.draw = noop\nwindow.whatsElement = whatsElementPure;\nexport default whatsElementPure"],"sourceRoot":""}