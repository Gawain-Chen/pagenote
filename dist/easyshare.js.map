{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/_whats-element@1.0.3@whats-element/index.js","webpack:///./node_modules/_whats-element@1.0.3@whats-element/dist/whatsElement.js","webpack:///./src/constant.js","webpack:///./src/document.js","webpack:///./src/easyshare.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","e","a","whatsElement","__WEBPACK_AMD_DEFINE_RESULT__","document","this","options","assign","draw","lastClick","body","addEventListener","target","focusedElement","clean","querySelectorAll","forEach","classList","remove","u","createElement","id","getUniqueId","HTMLElement","console","error","wid","type","tagName","toLowerCase","getElementById","RegExp","test","getElementsByName","querySelector","getTarget","f","length","y","g","h","parentNode","w","children","innerHTML","stopPropagation","innerText","onclick","appendChild","readOnly","className","setAttribute","select","execCommand","getBoundingClientRect","top","offsetHeight","x","left","screenX","b","offsetWidth","style","scrollY","add","outerHTML","head","window","constant","MENUID","WAITING","RECORDING","PAUSE","RECORDED","FINNISHED","REPLAYFINISHED","drawMenu","menu","content","el","position","transition","whats","MOUSE_UP","getXY","touch","touches","changedTouches","pageX","pageY","event","clientX","getScroll","clientY","documentElement","scrollLeft","scrollTop","Easyshare","autoReplay","steps","replayStep","status","targetInfo","menuEl","alert","record","selectd","text","getSelection","toString","trim","transform","display","finished","setps","callback","push","replay","step","targetId","targetX","targetY","timer","setInterval","beforeScrollLeft","beforeScrollTop","distanceX","distanceY","Math","floor","afterScrollLeft","afterScrollTop","clearInterval","setTimeout","set","package_0","init","log","EasyShare"],"mappings":"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","file":"easyshare.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","/**\r\n * Created by rowthan on 2017/11/19.\r\n */\r\nvar whatsElement = require('./dist/whatsElement');\r\nmodule.exports = whatsElement;","!function(e,t){var n=e.document,i=\"whats-element\",o=i+\"-tip-container\",r=i+\"-tip-delete\",a=i+\"-copy\",d=i+\"-unique-container\",l=i+\"-unique-id\",p=function(e){this.options=Object.assign({},{draw:!0},e),this.lastClick=n.body;var t=this;n.addEventListener(\"mousedown\",function(e){t.lastClick=e.target,t.focusedElement!==t.lastClick&&s.clean()})},s=p.prototype;function c(){n.querySelectorAll(\".\"+i+\"-active\").forEach(function(e){e.classList.remove(i+\"-active\")})}function u(e,t){var i=n.createElement(e||\"div\");return t&&(i.id=t),i}s.getUniqueId=function(e,t){if(!((e=e||this.lastClick)instanceof HTMLElement))return console.error(\"invalid input,not a HTML element\"),null;var i={wid:\"\",type:\"\"},o=e.id,r=e.name,a=e.tagName.toLowerCase(),d=e.type?e.type.toLowerCase():\"\",l=\"\";if((e.classList||[]).forEach(function(e){l+=\".\"+e}),\"body\"!==a&&\"html\"!==a||(i.wid=a,i.type=a),o&&n.getElementById(o)===e){var c=new RegExp(\"^[a-zA-Z]+\");t?c.test(o)&&(i.wid=a+\"#\"+o):i.wid=o,i.type=\"byId\"}if(!i.wid&&r&&n.getElementsByName(r)[0]===e&&(i.wid=r,i.type=\"byName\"),!i.wid&&l&&n.querySelector(a+l)===e&&(i.wid=a+l,i.type=\"byClass\"),\"radio\"===d){var u=a+\"[value='\"+e.value+\"']\";r&&(u+=\"[name='\"+r+\"']\"),n.querySelector(u)===e&&(i.wid=u,i.type=\"byValue\")}if(!i.wid){u=a;u=l?u+l:u,u=r?u+\"[name='\"+r+\"']\":u,s.getTarget(u)===e&&(i.wid=u,i.type=\"byMixed\")}if(!i.wid){u=a;u=l?u+l:u;var f=n.querySelectorAll(u);if(f&&f.length>0){for(var y=null,g=0;g<f.length;g++)if(e===f[g]){y=g+1;break}y&&(u=u+\":nth-child(\"+y+\")\",n.querySelector(u)===e&&(i.wid=u,i.type=\"byOrder\"))}}if(!i.wid){var h=p.prototype.getUniqueId(e.parentNode,!0).wid;if(!h)return;var m=a;l&&(m+=l);u=h+\">\"+m;if(n.querySelectorAll(u).length>1){u=null;y=null;for(var w=0;w<e.parentNode.children.length;w++)if(e.parentNode.children[w]===e){y=w+1;break}if(y>=1)u=h+\">\"+m+\":nth-child(\"+y+\")\",n.querySelector(u)!=e&&(u=null)}i.wid=u,i.type=\"byParent\"}return this.focusedElement=s.getTarget(i.wid),!t&&this.options.draw&&p.prototype.draw(i),i},s.getTarget=function(e){return n.getElementById(e)||n.getElementsByName(e)[0]||n.querySelector(e)},s.draw=function(t){var i=s.getTarget(t.wid);if(i){var f=n.getElementById(o)?n.getElementById(o):u(\"aside\",o);f.innerHTML=\"\",f.addEventListener(\"mousedown\",function(e){e.stopPropagation()});var y=u(\"div\",r);y.innerText=\"x\",y.onclick=function(e){e.stopPropagation(),p.prototype.clean()},f.appendChild(y);var g=u(\"div\",d),h=u(\"input\",l);h.readOnly=!0,h.className=t.type,h.value=t.wid;var m=u(\"div\",a);m.setAttribute(\"query-type\",t.type),m.innerText=\"复制\",m.onclick=function(){h.select(),n.execCommand(\"Copy\")},g.appendChild(h),g.appendChild(m),f.appendChild(g);var w=i.getBoundingClientRect().top+i.offsetHeight,x=i.getBoundingClientRect().left+e.screenX,b=x<100?x:x-(240|f.offsetWidth)/2+i.offsetWidth/2-n.body.getBoundingClientRect().left;f.style.left=b+\"px\",f.style.top=w+e.scrollY+10+\"px\",n.body.appendChild(f),c(),i.classList.add(\"whats-element-active\")}else console.error(\"no this element:\"+t.wid)},s.clean=function(){c();var e=n.getElementById(o);e&&(e.outerHTML=\"\")},void 0!==e&&null!==e&&(e.whatsElement=p),void 0!==e&&null!==e||(this.whatsElement=p),\"undefined\"!=typeof module&&module.exports&&(module.exports=p),\"function\"==typeof define&&define(function(){return p});var f=u(\"style\"),y=\"#\"+o+\"{position:absolute;color:#8ed3fb;font-size:14px;z-index:1000;background-color:rgba(255, 255, 255,0.9);box-sizing:border-box;box-shadow:rgba(0, 0, 0, 0.2) 0px 1px 10px 3px;padding: 10px 20px;border-radius: 36px;}\";y+=\"#\"+r+\"{cursor:pointer;position:absolute;top:-10px;width:20px;height: 20px;left:calc(50% - 8px);text-align:center;clip-path: polygon(50% 0,100% 50%,50% 100%,0 50%);background:#fff;}\",y+=\"#\"+r+\":hover{background:#fffbf0}\",y+=\"#\"+d+\"{display:flex;justify-content:space-around;}\",y+=\"#\"+l+\"{border:1px solid #d1d5da;box-shadow:inset 0 1px 2px rgba(27,31,35,0.075);text-indent:10px;}\",y+=\"#\"+a+\"{background:aliceblue;cursor: pointer;}\",y+=\"#\"+a+\"::after{position:absolute;z-index:1000000;padding: 0.1em 0.75em;color: #fff;text-align:center;text-shadow:none;text-transform:none;content:attr(query-type);background: #a88462;border-radius: 3px;opacity: 0;transition:all .5s}\",y+=\"#\"+a+\":hover:after{display:inline-block;opacity: 1;}\",y+=\".whats-element-active{outline:red 1px dashed !important}\",f.innerText=y,n.head.appendChild(f),e.whatsElement=p}(window);","export default{\n    MENUID:\"easyshare-menu\",\n\n    WAITING:\"WAITING\",\n    RECORDING:\"RECORDING\",\n    PAUSE:\"PAUSE\",\n    RECORDED:\"RECORDED\",\n    FINNISHED:\"FINNISHED\",\n\n    REPLAYFINISHED:\"REPLAYFINISHED\"\n}","import constant from './constant'\nfunction createElement(type,id,content) {\n    var el = document.createElement(type?type:\"div\");\n    id?el.id = id:\"\";\n    el.innerHTML = content;\n    return el;\n  }\nconst drawMenu = function(){\n    const menu = createElement(\"button\",constant.MENUID,\"分享\");\n    menu.style.position = \"absolute\"\n    menu.style.top = 0\n    menu.style.left = 0\n    menu.style.transition = \"0.5s\"\n    document.body.appendChild(menu);\n}\n\nexport {\n    drawMenu\n}","import {version} from '../package.json'\nimport {drawMenu} from './document'\nimport constant from './constant'\nimport whatselement from 'whats-element'\nconst whats = new whatselement({draw:false})\nconst MOUSE_UP = 'ontouchstart' in window\n  /* istanbul ignore next */ ? 'touchend'\n  /* istanbul ignore next */ : 'mouseup',\n  IS_TOUCH = 'ontouchstart' in window\n\nconst getXY = IS_TOUCH\n? e => {\nconst touch = e.touches[0] || e.changedTouches[0]\nreturn touch ? {\n    x: touch.pageX,\n    y: touch.pageY\n} : { x: 0, y: 0 }\n}\n: e => {\n   var e = event || window.event;\n   var x = e.pageX || e.clientX + getScroll().x;\n   var y = e.pageY || e.clientY + getScroll().y;\n   return { 'x': x, 'y': y };\n}\n \nfunction getScroll(){\n    var x = document.documentElement.scrollLeft || document.body.scrollLeft;\n    var y = document.documentElement.scrollTop || document.body.scrollTop;\n    return {x,y}\n}\n\nfunction setScroll(x=0,y=0){\n    document.documentElement.scrollLeft = document.body.scrollLeft = x;\n    document.documentElement.scrollTop =  document.body.scrollTop = y;\n}\n\nexport default function Easyshare(options={autoReplay:true}){\n    this.options = options\n    this.steps = []\n    this.replayStep = null\n    let status = constant.PAUSE\n    let targetInfo ={}\n    drawMenu();\n\n    const menuEl = document.getElementById(constant.MENUID)\n    \n    menuEl.onclick = (e)=> {\n        if(this.status!=constant.WAITING){\n            alert(\"当前状态不可记录\")\n            return false;\n        }\n        this.record()\n        menuEl.innerHTML = status\n    }\n\n    document.addEventListener( MOUSE_UP , (e)=>{\n        // handle mouseup\n        const selectd = getText(e);\n        if(selectd.text){\n            const { x, y } = getXY(e)\n            menuEl.style.transform = `translateX(${x}px) translateY(${y}px)`\n            menuEl.style.display = \"block\"\n            this.status = constant.WAITING\n            \n            targetInfo = {\n                x:document.documentElement.scrollLeft,\n                y:document.documentElement.scrollTop,\n                text:selectd.text,\n                id: selectd.id ? selectd.id.wid : null\n            }\n        }else{\n            menuEl.style.display = \"none\"\n            this.status = constant.PAUSE\n        }\n    } );\n    \n\n    this.finished = function(){\n        this.status = constant.FINNISHED\n        this.setps = []\n    }\n\n    this.record = function(callback){\n        this.status = constant.RECORDING\n        \n        this.steps.push(targetInfo)\n        this.status = constant.RECORDED\n        typeof callback === \"function\" &&callback()\n    }\n\n    this.replay = function(step=0){\n        if(this.steps.length<step+1){\n            return \n        }\n        const {x,y,targetId} = this.steps[step]\n\n        \n        getoPosition(x,y,()=>{\n            if(this.steps.length===step+1){\n                this.status = constant.REPLAYFINISHED\n                return;\n            }else if(options.autoReplay){\n                setTimeout(()=>this.replay(step+1),5000)\n            }\n        })\n    }\n\n    Object.defineProperty(this,\"status\",{get:()=>{return status},set:(value=>{\n        status=value;\n        menuEl.innerHTML = value\n    })})\n    Object.defineProperty(this,\"version\",{value:version})\n}\n\n\nfunction getText(e) {\n    const selected = document.getSelection()\n    return {\n        text:selected.toString().trim(),\n        id: whats.getUniqueId(e.target)\n    };\n}\n\n\nfunction getoPosition(targetX=0,targetY=0,callback){\n    // console.log(\"target position:\",targetX,targetY)\n    const timer = setInterval(function () {\n        //移动前\n        const { x:beforeScrollLeft,y:beforeScrollTop} = getScroll();\n        const distanceX = targetX - beforeScrollLeft\n        , distanceY =  targetY - beforeScrollTop\n        \n        //移动后\n        setScroll(beforeScrollLeft+Math.floor(distanceX/6),Math.floor(beforeScrollTop+distanceY/6))\n        \n        const {x:afterScrollLeft,y:afterScrollTop} = getScroll()\n        \n        if(beforeScrollTop === afterScrollTop && beforeScrollLeft === afterScrollLeft){\n            clearInterval(timer)\n            callback()\n        }\n    },30)\n}\n\nEasyshare.prototype.init = function(){console.log(\"init\")}","import EasyShare from './easyshare'\n\nwindow.EasyShare = EasyShare\n\n\n\n"],"sourceRoot":""}