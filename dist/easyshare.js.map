{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/constant.js","webpack:///./src/index.js","webpack:///./src/easyshare.js","webpack:///./src/document.js","webpack:///./node_modules/_whats-element@1.0.3@whats-element/index.js","webpack:///./node_modules/_whats-element@1.0.3@whats-element/dist/whatsElement.js","webpack:///./src/widget.js","webpack:///./node_modules/_hyperapp@1.2.9@hyperapp/src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","e","SHARENAME","WAITING","INITCOMPELETE","RECORDING","PAUSE","RECORDED","FINNISHED","REPLAYING","PLAYANDWAIT","REPLAYFINISHED","EasyShare","options","easy","easyshare","_widget2","window","_this","this","assign","autoReplay","hightligth","recordedSteps","running","mPos","x","y","status","constant","targetInfo","nameid","addEventListener","event","search","location","indexOf","searchArray","substr","split","length","queryPar","pair","replaySteps","forEach","tempStep","push","document","MOUSE_UP","selectdText","getSelection","toString","trim","text","_getXY","_document","getXY","_getScroll","getScroll","scrollLeft","scrollTop","id","whats","getUniqueId","target","wid","onStateChange","record","arguments","console","log","replay","step","_this2","timeout","autoNext","_replaySteps$step","targetEl","getTarget","hightLightElement","gotoPosition","setTimeout","makelink","share","currentUrl","href","indexShare","index","history","pushState","set","whatselement","draw","touch","touches","changedTouches","pageX","pageY","clientX","clientY","documentTarget","documentElement","body","targetX","targetY","callback","timer","setInterval","beforeScrollLeft","beforeScrollTop","distanceX","distanceY","Math","floor","_getScroll2","afterScrollLeft","clearInterval","element","style","background","whatsElement","__WEBPACK_AMD_DEFINE_RESULT__","a","lastClick","focusedElement","clean","querySelectorAll","classList","remove","u","createElement","HTMLElement","error","type","tagName","toLowerCase","getElementById","RegExp","test","getElementsByName","querySelector","f","g","h","parentNode","w","children","innerHTML","stopPropagation","innerText","onclick","appendChild","readOnly","className","setAttribute","select","execCommand","getBoundingClientRect","top","offsetHeight","left","screenX","b","offsetWidth","scrollY","add","outerHTML","head","state","actions","refershState","RecordButton","_ref","_hyperapp","StepSign","_ref2","_ref2$running","display","position","right","width","height","overflow","borderRadius","textAlign","transition","app","oncreate","map","attributes","rest","node","pop","nodeName","view","container","skipRender","rootElement","oldNode","recycleElement","childNodes","nodeType","nodeValue","lifecycle","isRecycling","globalState","clone","wiredActions","wireStateToActions","path","action","data","result","getPartialState","then","scheduleRender","setPartialState","concat","resolveNode","render","patch","parent","isSvg","newElement","createTextNode","createElementNS","updateAttribute","insertBefore","removeElement","oldAttributes","cb","onupdate","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","getKey","k","newKey","keyedNode","source","out","slice","eventListener","currentTarget","events","oldValue","cssText","setProperty","removeEventListener","removeAttribute","done","removeChild","removeChildren","ondestroy","onremove","__webpack_exports__"],"mappings":"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","file":"easyshare.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","export default{\n    SHARENAME:\"easyshare\",\n    WAITING:\"WAITING\",\n\n    INITCOMPELETE:\"INITCOMPELETE\",\n    RECORDING:\"RECORDING\",\n    PAUSE:\"PAUSE\",\n    RECORDED:\"RECORDED\",\n    FINNISHED:\"FINNISHED\",\n    REPLAYING:\"REPLAYING\",\n    PLAYANDWAIT:\"REPLAYINGANDWAITING\",\n    REPLAYFINISHED:\"REPLAYFINISHED\"\n}","import easyshare from './easyshare'\nimport widget from './widget'\n\nexport default function EasyShare(options){\n    const easy = new easyshare(options)\n    widget(easy)\n    return easy\n}\nwindow.EasyShare = EasyShare\n\n\n\n","import {gotoPosition,getXY,getScroll,hightLightElement} from './document'\nimport constant from './constant'\nimport whatselement from 'whats-element'\n\nconst whats = new whatselement({draw:false}),\n      MOUSE_UP = 'ontouchstart' in window ? 'touchend' : 'mouseup'\n\nexport default function Easyshare(options){\n    this.options = Object.assign({autoReplay:true,hightligth:true},options)\n    this.recordedSteps = []\n    this.running = null\n    this.mPos = {x:0,y:0}\n    let status = constant.PAUSE,targetInfo = {}, nameid = constant.SHARENAME\n\n    window.addEventListener(\"load\", (event)=> {\n        const search = window.location.search\n        if(search.indexOf(nameid)===-1){\n            return\n        }\n        const searchArray = search.substr(1).split(\"&\");\n        for(let i=0 ; i < searchArray.length; i++){\n            const queryPar  = searchArray[i]\n            if(queryPar.indexOf(nameid)>-1){\n                const pair = queryPar.split(\"=\");\n                if(pair.length===2){\n                    const values = pair[1]\n                    const replaySteps = []\n                    values.split(\"a\").forEach(value=>{\n                        const tempStep = {\n                            x:value.split(\"-\")[0],\n                            y:value.split(\"-\")[1],\n                        }\n                        replaySteps.push(tempStep)\n                    })\n                    this.status = constant.INITCOMPELETE\n                    this.recordedSteps = replaySteps\n                }\n                break\n            }\n        }\n    });\n    \n\n    document.addEventListener( MOUSE_UP , (e)=>{\n        const selectdText = document.getSelection().toString().trim();\n        if(selectdText===targetInfo.text){\n            return\n        } \n        if(selectdText){\n            const { x, y } = getXY(e)\n            const {x:scrollLeft,y:scrollTop} = getScroll()\n            this.mPos = {\n                x:x,\n                y:y\n            }\n            targetInfo = {\n                x:scrollLeft,\n                y:scrollTop,\n                text:selectdText,\n                id: whats.getUniqueId(e.target).wid\n            }\n            this.status = (this.status === constant.REPLAYING || this.status===constant.PLAYANDWAIT) ? constant.PLAYANDWAIT : constant.WAITING\n        }else{\n            targetInfo = {}\n            this.status = constant.PAUSE\n        }\n    } )\n\n    this.onStateChange = function(){}\n    \n\n    this.record = function(forceRecord=false){\n        // 如果当前状态不为等待记录 且不是强行记录时\n        if(!forceRecord && this.status!=constant.WAITING){\n            console.log(\"当前状态不可记录\")\n            return false;\n        }\n        this.status = constant.RECORDING       \n        this.recordedSteps.push(targetInfo)\n        this.status = constant.RECORDED\n        return true\n    }\n\n    //TODO 支持一步一步播放\n    this.replay = function(step=0,replaySteps,timeout=5000,autoNext=true){\n        replaySteps = replaySteps || this.recordedSteps;\n        if(replaySteps.length<step+1){\n            this.running = null\n            this.status = constant.REPLAYFINISHED\n            return \n        }\n        const {x,y,id} = replaySteps[step], targetEl = whats.getTarget(id)\n\n        targetEl && this.options.hightligth &&  hightLightElement(targetEl)\n       \n        //TODO 存在 targetEl 时，使用定位该元素窗口居中效果 否则 使用滚动效果\n        this.running = step\n        this.status = constant.REPLAYING\n        gotoPosition(x,y,()=>{\n            if(autoNext){\n                setTimeout(()=>this.replay(step+1,replaySteps),timeout)\n            }\n        })\n    }\n\n    this.makelink = () => {\n        if(this.recordedSteps.length===0)return;\n        // 生成分享链接,记录数据:  http://www.baidu.com?share=0-123a0-234\n        let share = \"&\"+nameid+\"=\",\n            currentUrl = window.location.href,\n            indexShare = currentUrl.indexOf(\"&\"+nameid)\n        this.recordedSteps.forEach((step,index) => {\n            index!=0?share +=\"a\":\"\";\n            share += step.x+\"-\"+step.y\n        });\n        \n        if(window.location.search==\"\"){\n            currentUrl += \"?\"\n        }\n        if(indexShare>-1){\n            currentUrl = currentUrl.substr(0,indexShare)\n        }\n        if(this.options.autoReplay){\n            share += \"&autoreplay=true\"\n        }\n        history.pushState(\"\", nameid, currentUrl+share);\n    }\n\n    Object.defineProperty(this,\"status\",{get:()=>{return status},set:(value=>{\n        status=value;\n        this.onStateChange(status)\n    })})\n    Object.defineProperty(this,\"version\",{value:\"0.0.2\"})\n}","const gotoPosition = function(targetX=0,targetY=0,callback){\n    // console.log(\"target position:\",targetX,targetY)\n    const timer = setInterval(function () {\n        //移动前\n        const { x:beforeScrollLeft,y:beforeScrollTop} = getScroll();\n        const distanceX = targetX - beforeScrollLeft\n        , distanceY =  targetY - beforeScrollTop\n        \n        //移动后\n        setScroll(beforeScrollLeft+Math.floor(distanceX/6),Math.floor(beforeScrollTop+distanceY/6))\n        \n        const {x:afterScrollLeft,y:afterScrollTop} = getScroll()\n        \n        if(beforeScrollTop === afterScrollTop && beforeScrollLeft === afterScrollLeft){\n            clearInterval(timer)\n            callback()\n        }\n    },30)\n}\n\nconst IS_TOUCH = 'ontouchstart' in window,\n//TODO 优化移动设备\n getXY = IS_TOUCH\n? e => {\nconst touch = e.touches[0] || e.changedTouches[0]\nreturn touch ? {\n    x: touch.pageX,\n    y: touch.pageY\n} : { x: 0, y: 0 }\n}\n: e => {\n   var e = event || window.event;\n   var x = e.pageX || e.clientX + getScroll().x;\n   var y = e.pageY || e.clientY + getScroll().y;\n   return { 'x': x, 'y': y };\n},\n\nhightLightElement = function (element){\n    // console.log(\"hightligth target\")\n    element.style.background = \"#e8d2bb\"\n}\n\n\nconst documentTarget = document.documentElement || document.body\nfunction getScroll(){\n    var x = documentTarget.scrollLeft || documentTarget.scrollLeft;\n    var y = documentTarget.scrollTop || documentTarget.scrollTop;\n    return {x,y}\n}\n\nfunction setScroll(x=0,y=0){\n    documentTarget.scrollLeft = documentTarget.scrollLeft = x;\n    documentTarget.scrollTop =  documentTarget.scrollTop = y;\n}\n\nexport {\n    gotoPosition,\n    getXY,\n    hightLightElement,\n    getScroll\n}","/**\r\n * Created by rowthan on 2017/11/19.\r\n */\r\nvar whatsElement = require('./dist/whatsElement');\r\nmodule.exports = whatsElement;","!function(e,t){var n=e.document,i=\"whats-element\",o=i+\"-tip-container\",r=i+\"-tip-delete\",a=i+\"-copy\",d=i+\"-unique-container\",l=i+\"-unique-id\",p=function(e){this.options=Object.assign({},{draw:!0},e),this.lastClick=n.body;var t=this;n.addEventListener(\"mousedown\",function(e){t.lastClick=e.target,t.focusedElement!==t.lastClick&&s.clean()})},s=p.prototype;function c(){n.querySelectorAll(\".\"+i+\"-active\").forEach(function(e){e.classList.remove(i+\"-active\")})}function u(e,t){var i=n.createElement(e||\"div\");return t&&(i.id=t),i}s.getUniqueId=function(e,t){if(!((e=e||this.lastClick)instanceof HTMLElement))return console.error(\"invalid input,not a HTML element\"),null;var i={wid:\"\",type:\"\"},o=e.id,r=e.name,a=e.tagName.toLowerCase(),d=e.type?e.type.toLowerCase():\"\",l=\"\";if((e.classList||[]).forEach(function(e){l+=\".\"+e}),\"body\"!==a&&\"html\"!==a||(i.wid=a,i.type=a),o&&n.getElementById(o)===e){var c=new RegExp(\"^[a-zA-Z]+\");t?c.test(o)&&(i.wid=a+\"#\"+o):i.wid=o,i.type=\"byId\"}if(!i.wid&&r&&n.getElementsByName(r)[0]===e&&(i.wid=r,i.type=\"byName\"),!i.wid&&l&&n.querySelector(a+l)===e&&(i.wid=a+l,i.type=\"byClass\"),\"radio\"===d){var u=a+\"[value='\"+e.value+\"']\";r&&(u+=\"[name='\"+r+\"']\"),n.querySelector(u)===e&&(i.wid=u,i.type=\"byValue\")}if(!i.wid){u=a;u=l?u+l:u,u=r?u+\"[name='\"+r+\"']\":u,s.getTarget(u)===e&&(i.wid=u,i.type=\"byMixed\")}if(!i.wid){u=a;u=l?u+l:u;var f=n.querySelectorAll(u);if(f&&f.length>0){for(var y=null,g=0;g<f.length;g++)if(e===f[g]){y=g+1;break}y&&(u=u+\":nth-child(\"+y+\")\",n.querySelector(u)===e&&(i.wid=u,i.type=\"byOrder\"))}}if(!i.wid){var h=p.prototype.getUniqueId(e.parentNode,!0).wid;if(!h)return;var m=a;l&&(m+=l);u=h+\">\"+m;if(n.querySelectorAll(u).length>1){u=null;y=null;for(var w=0;w<e.parentNode.children.length;w++)if(e.parentNode.children[w]===e){y=w+1;break}if(y>=1)u=h+\">\"+m+\":nth-child(\"+y+\")\",n.querySelector(u)!=e&&(u=null)}i.wid=u,i.type=\"byParent\"}return this.focusedElement=s.getTarget(i.wid),!t&&this.options.draw&&p.prototype.draw(i),i},s.getTarget=function(e){return n.getElementById(e)||n.getElementsByName(e)[0]||n.querySelector(e)},s.draw=function(t){var i=s.getTarget(t.wid);if(i){var f=n.getElementById(o)?n.getElementById(o):u(\"aside\",o);f.innerHTML=\"\",f.addEventListener(\"mousedown\",function(e){e.stopPropagation()});var y=u(\"div\",r);y.innerText=\"x\",y.onclick=function(e){e.stopPropagation(),p.prototype.clean()},f.appendChild(y);var g=u(\"div\",d),h=u(\"input\",l);h.readOnly=!0,h.className=t.type,h.value=t.wid;var m=u(\"div\",a);m.setAttribute(\"query-type\",t.type),m.innerText=\"复制\",m.onclick=function(){h.select(),n.execCommand(\"Copy\")},g.appendChild(h),g.appendChild(m),f.appendChild(g);var w=i.getBoundingClientRect().top+i.offsetHeight,x=i.getBoundingClientRect().left+e.screenX,b=x<100?x:x-(240|f.offsetWidth)/2+i.offsetWidth/2-n.body.getBoundingClientRect().left;f.style.left=b+\"px\",f.style.top=w+e.scrollY+10+\"px\",n.body.appendChild(f),c(),i.classList.add(\"whats-element-active\")}else console.error(\"no this element:\"+t.wid)},s.clean=function(){c();var e=n.getElementById(o);e&&(e.outerHTML=\"\")},void 0!==e&&null!==e&&(e.whatsElement=p),void 0!==e&&null!==e||(this.whatsElement=p),\"undefined\"!=typeof module&&module.exports&&(module.exports=p),\"function\"==typeof define&&define(function(){return p});var f=u(\"style\"),y=\"#\"+o+\"{position:absolute;color:#8ed3fb;font-size:14px;z-index:1000;background-color:rgba(255, 255, 255,0.9);box-sizing:border-box;box-shadow:rgba(0, 0, 0, 0.2) 0px 1px 10px 3px;padding: 10px 20px;border-radius: 36px;}\";y+=\"#\"+r+\"{cursor:pointer;position:absolute;top:-10px;width:20px;height: 20px;left:calc(50% - 8px);text-align:center;clip-path: polygon(50% 0,100% 50%,50% 100%,0 50%);background:#fff;}\",y+=\"#\"+r+\":hover{background:#fffbf0}\",y+=\"#\"+d+\"{display:flex;justify-content:space-around;}\",y+=\"#\"+l+\"{border:1px solid #d1d5da;box-shadow:inset 0 1px 2px rgba(27,31,35,0.075);text-indent:10px;}\",y+=\"#\"+a+\"{background:aliceblue;cursor: pointer;}\",y+=\"#\"+a+\"::after{position:absolute;z-index:1000000;padding: 0.1em 0.75em;color: #fff;text-align:center;text-shadow:none;text-transform:none;content:attr(query-type);background: #a88462;border-radius: 3px;opacity: 0;transition:all .5s}\",y+=\"#\"+a+\":hover:after{display:inline-block;opacity: 1;}\",y+=\".whats-element-active{outline:red 1px dashed !important}\",f.innerText=y,n.head.appendChild(f),e.whatsElement=p}(window);","import {  h,app } from \"hyperapp\"\nimport constant from './constant'\nexport default function widget(easyshare){\n  const state = {\n    status: \"\",\n    recordedSteps: easyshare.recordedSteps,\n    mPos :{},\n    running:null\n  }\n    \n  const actions = {\n    refershState: value => state =>({\n      status: easyshare.status,\n      recordedSteps: easyshare.recordedSteps,\n      mPos :{x:easyshare.mPos.x,y:easyshare.mPos.y},\n      running:easyshare.running\n    })\n  }\n\n  const aftercreate = (actions)=>{\n    setTimeout(()=>{\n      actions.refershState()\n      if(window.location.search.indexOf(\"autoreplay\")>-1){\n        easyshare.replay()\n      }\n    },1000)\n  }\n\n  const record = (actions)=>{\n      easyshare.record()\n      actions.refershState()\n    }\n\n\n  const RecordButton = ({status,onclick}) =>(\n    <button onclick={onclick}>\n      {status}\n    </button>\n  )\n  \n  const StepSign = ({step,running=false,index})=>(\n    <span style={{display: \"block\",\n                    position:\"absolute\",\n                    top:index*15+\"px\",\n                    right:running?\"10px\":\"0px\",\n                    width: running?\"20px\":\"8px\",\n                    height: running?\"20px\":\"8px\",\n                    background: running?\"red\":\"pink\",\n                    overflow: \"hidden\",\n                    borderRadius: \"50%\",\n                    textAlign:\"center\",\n                    transition:\".5s\"}}>\n                    {\n                      (running && step.text)?step.text.substr(0,1):\"\"\n                    }\n    </span>\n  )\n\n\n  const view = (state, actions) => (\n    <div oncreate={()=>{easyshare.onStateChange = function(){actions.refershState()};\n    aftercreate(actions)}}>\n      <div style={{position:\"absolute\",left:state.mPos.x+\"px\",top:state.mPos.y+\"px\",transition:\".5s\"}}>\n        {\n          (state.status === constant.WAITING || state.status === constant.PLAYANDWAIT)\n          &&\n          <span>\n            <RecordButton status={state.status} onclick={()=>{record(actions)}}></RecordButton>  \n          </span>\n        }\n      </div>\n      <aside style={{position:\"fixed\",top:20,right:0}}>\n        <div style={{position:\"relative\"}}>\n          {\n            state.recordedSteps.map((record,index)=>(\n              <StepSign step = {record} running={index===state.running} index={index}/>\n            ))\n          }\n          {\n            state.recordedSteps.length>0 && \n              <button onclick={easyshare.makelink} style={{position:\"absolute\",right:0,top:state.recordedSteps.length*15+\"px\"}}>\n                生成链接\n              </button>\n          }\n        </div> \n      </aside>\n    </div>\n  )\n  app(state, actions, view, document.body)\n}","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n"],"sourceRoot":""}