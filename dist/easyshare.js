!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="ontouchstart"in window?function(t){var e=t.touches[0]||t.changedTouches[0];return e?{x:e.pageX,y:e.pageY}:{x:0,y:0}}:function(t){return{x:(t=event||window.event).pageX||t.clientX+o().x,y:t.pageY||t.clientY+o().y}},r=document.documentElement||document.body;function o(){return{x:window.pageXOffset||r.scrollLeft||r.scrollLeft,y:window.pageYOffset||r.scrollTop||r.scrollTop}}e.gotoPosition=function(t,e,n){var i=setInterval(function(){var l=o(),a=l.x,u=l.y;!function(t,e){r.scrollLeft=t,r.scrollTop=e,window.scrollTo(t,e)}(a+(t-a)/6,u+(e-u)/6);var s=o(),c=s.x;u===s.y&&a===c&&(clearInterval(i),"function"==typeof n&&n())},30);return i},e.getXY=i,e.hightLightElement=function(t,e,n){if(t&&e){for(var i=t.querySelectorAll("b[data-highlight='y']"),r=0;r<i.length;r++){var o=i[r],l=o.dataset.origintext||o.outerHTML;l==e&&(o.outerHTML=l)}if(n){var a='<b data-highlight="y" data-origintext="'+e+'">',u=">.*?"+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+".*?<";t.dataset.highlightbk="y",t.outerHTML=t.outerHTML.replace(new RegExp(u,"g"),function(t){return t.replace(e,a+e+"</b>")})}else t.dataset.highlightbk="n"}},e.getViewPosition=function(t){var e=t.getBoundingClientRect();return{top:e.top,left:e.left}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var i=o(n(2)),r=o(n(4));function o(t){return t&&t.__esModule?t:{default:t}}function l(t){var e=new i.default(t);return(0,r.default)(e),e}window.EasyShare=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=n(0);var r=new(function(t){return t&&t.__esModule?t:{default:t}}(n(3)).default);function o(t){var e=this;this.options=Object.assign({playSetting:{auto:1,dura:100},maxMarkNumber:10,stepSplit:"e_o",valueSplit:":)"},t),this.recordedSteps=[],this.runindex=u,this.target={};var n=u,o=u,l=u,a=this.target,u=null,s=this.CONSTANT,c=this.options,f=c.stepSplit,d=c.valueSplit,h=c.playSetting,p=Object.assign({},h),g=s.SHARENAME,v=window.location,y=[f,d],m=this.recordedSteps;window.addEventListener("load",function(){for(var t=decodeURI(v.search).replace(new RegExp("_hash-","g"),"#").substr(1).split("&"),n={},i=0;i<t.length;i++){var r=t[i],o=r.indexOf("=");n[r.substring(0,o)]=r.substring(o+1)}var l=n[g],a=n.esplay;l&&(l.split(f).forEach(function(t){var e=t.split(d),n={x:e[0],y:e[1],id:e[2],text:e[3],tip:e[4]||e[3]};m.push(n)}),e.status=s.INITCOMPELETE),a&&a.split("_").forEach(function(t){var e=t.split("-");h[e[0]]=e[1]}),h.auto&&easyshare.replay(0,!1,!0,!0,null,h.dura)});var w=null;function x(t){var e=document.getSelection().toString().trim();this.status==s.WAITING&&e===a.text||(e?(this.target=a={x:t.x,y:t.y,text:e.substring(0,30),tip:e,id:r.getUniqueId(document.getSelection().anchorNode.parentNode).wid},this.status=this.status===s.REPLAYING||this.status===s.PLAYANDWAIT?s.PLAYANDWAIT:s.WAITING):(this.target=a={},this.status=s.PAUSE))}"ontouchstart"in window?(document.addEventListener("touchstart",function(t){w=t}),document.onselectionchange=function(t){if(w.target&&"record"!=w.target.id){var n=(0,i.getXY)(w),r=n.x,o=n.y;x.call(e,{x:r,y:o+24})}}):document.addEventListener("mouseup",function(t){x.call(e,{x:t.pageX,y:t.pageY})}),this.onStateChange=function(){},this.record=function(t){var e=c.maxMarkNumber;if(m.length>=e)return alert("标记失败！最大标记数量为 "+e),!1;if(!t&&this.status!=s.WAITING)return!1;this.status=s.RECORDING,m.push(a);var n=this.makelink();return n?(alert(n),m.splice(-1,1),this.status=s.RECORDFAIL,!1):((0,i.hightLightElement)(r.getTarget(a.id),a.text,!0),a.isActive=!0,this.status=s.RECORDED,!0)},this.remove=function(t){if(t<0)for(;m.length>0;)this.replay(0,!1,!1),m.splice(0,1);else this.replay(t,!1,!1),m.splice(t,1);this.makelink()},this.replay=function(t,e,n,a,c,f){var d=this;t=t||0,e=void 0==e||e,n=void 0==n||n,f=void 0!=f?f:h.dura;var p=(c=c||m)[t];if(!p)return this.runindex=u,void(this.status=s.REPLAYFINISHED);var g=p.x,v=p.y,y=p.id,w=p.text,x=y?r.getTarget(y):u;clearInterval(l),clearTimeout(o),l=o=u,this.runindex=t,this.status=s.REPLAYING,p.isActive=n,x&&(0,i.hightLightElement)(x,w,n),e?l=(0,i.gotoPosition)(g-window.innerWidth/2,v-window.innerHeight/2,function(){d.runindex=u,a?o=setTimeout(function(){return d.replay(t+1,e,n,a,c,f)},f):(d.status=s.REPLAYFINISHED,clearTimeout(o))}):a?o=setTimeout(function(){return d.replay(t+1,e,n,a,c,f)},f):(this.runindex=u,this.status=s.REPLAYFINISHED)},this.makelink=function(){try{var t="&"+g+"=",e=v.href,n=e.indexOf("&"+g);if(""==v.search&&(e+="?"),n>-1&&(e=e.substr(0,n)),0===m.length)t="";else{m.forEach(function(e,n){t+=0!=n?f:"";["x","y","id","text","tip"].forEach(function(n,i){var r=(e[n]||"").toString().replace(new RegExp("#","g"),"_hash-");y.forEach(function(t){if(r.indexOf(t)>-1)throw Error("不得包含："+t)}),("id"==n&&r.length>35||"tip"==n&&e.tip===e.text)&&(r=""),t+=0!=i?d+r:r})});var i=0;for(var r in h)if(h[r]!=p[r]){var o=r+"-"+h[r];t+=i?"_"+o:"&esplay="+o,i++}}history.pushState("",g,e+t)}catch(t){return t.message}},Object.defineProperty(this,"status",{get:function(){return n},set:function(t){n=t,e.onStateChange(n)}})}o.prototype.CONSTANT={SHARENAME:"easyshare",WAITING:0,INITCOMPELETE:1,RECORDING:2,PAUSE:3,RECORDED:4,RECORDFAIL:5,FINNISHED:6,REPLAYING:7,PLAYANDWAIT:8,REPLAYFINISHED:9},o.prototype.version="0.0.6"},function(t,e,n){var i=n(7);t.exports=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e={status:"",steps:t.recordedSteps,targetInfo:t.target,runindex:null,ballPos:{},showBall:!1,showMenu:!1},n=t.CONSTANT,l={refershState:function(e){return function(e){return{status:t.status,steps:t.recordedSteps,targetInfo:t.target,runindex:t.runindex}}},setBallPos:function(t){return function(e){return{ballPos:t}}},toggleShowBall:function(t){return function(e){return{showBall:t}}},toggleMenu:function(t){return function(t){return{showMenu:!t.showMenu}}}},a=function(t){var e=t.status,r=t.onclick;return(0,i.h)("button",{id:"record",onclick:r},e===n.WAITING&&"标记此处",[n.REPLAYING,n.PLAYANDWAIT].indexOf(e)>-1&&"结束播放后可进行记录")},u=function(e){var n=e.state,o=e.actions;return(0,i.h)("div",{id:"easyshare-menu",style:{position:"absolute",visibility:n.steps.length>0?"visible":"hidden",right:0,top:15*n.steps.length+20+"px"}},(0,i.h)("div",{className:r.default.menu,onclick:o.toggleMenu},(0,i.h)("svg",{viewBox:"0 0 8 16",version:"1.1",width:"20",height:"16","aria-hidden":"true"},(0,i.h)("path",{"fill-rule":"evenodd",d:"M8 4v1H0V4h8zM0 8h8V7H0v1zm0 3h8v-1H0v1z"}))),n.showMenu&&(0,i.h)("div",{style:{position:"fixed",width:"300px",height:"100px",background:"pink",top:"30%",left:"calc(50% - 150px)"}},(0,i.h)("div",null,"基础信息 、设置、签名"),(0,i.h)("button",{onclick:function(){t.remove(-1),o.toggleMenu()}},"删除所有"),(0,i.h)("button",null,"还原所有"),"打开网页时，自动播放 来自 user 的分享 \b",(0,i.h)("p",null,"已记录",n.steps.length,"条标记。")))},s=function(e){var n=e.step,o=e.running,l=void 0!==o&&o,a=e.index;return(0,i.h)("span",{title:"点击",className:r.default.stepSign+" "+(l?r.default.running:"")+" "+(n.isActive?r.default.isActive:""),style:{top:15*(a+1)+"px"},onclick:function(){t.replay(a,!0,!n.isActive)}})},c=function(e){var n=e.step,o=e.index,l=e.actions;return(0,i.h)("div",{style:{position:"absolute",top:n.y+"px",left:n.x+"px"}},(0,i.h)("div",{title:"查看",class:r.default.point+" "+(n.isActive?r.default.active:""),onclick:function(){n.writing=!1,t.replay(o,!1,!n.isActive)}},(0,i.h)("svg",{style:{position:"absolute",display:n.isActive?"":"none"},viewBox:"0 0 1024 1024",version:"1.1",width:"10",height:"10"},(0,i.h)("path",{d:"M192 448l640 0 0 128-640 0 0-128Z","p-id":"4227",fill:"#fff"}))),n.isActive&&(0,i.h)("div",{className:r.default.box},(0,i.h)("div",{contentEditable:n.writing?"plaintext-only":"false",oninput:function(t){var e=t.target.innerText;n.modify=e},innerText:n.tip,style:{width:"100%",border:(n.writing?1:0)+"px solid"}}),(0,i.h)("span",{className:r.default.edit,onclick:function(){n.writing=!0,t.replay(o,!1)}},(0,i.h)("svg",{style:"",viewBox:"0 0 1024 1024",version:"1.1",width:"20",height:"20"},(0,i.h)("path",{d:"M924.766 187.485c-32.297-32.412-62.339-68.774-99.757-95.411-34.261-7.093-50.787 29.928-74.311 47.237 39.777 46.201 86.117 87.013 128.923 130.718 19.407-23.095 65.369-46.724 45.145-82.543zM903.499 362.026c-27.158 27.294-55.258 53.806-81.519 82.146-0.648 109.327 0.273 218.642-0.375 327.946-0.545 40.3-35.851 76.004-76.13 77.445-165.797 0.65-331.717 0.65-497.513 0.127-44.75-1.191-80.6-44.103-77.048-88.058-0.125-158.274-0.125-316.403 0-474.533-3.406-43.84 32.55-85.968 76.797-87.535 109.85-1.451 219.739 0.125 329.462-0.794 28.495-25.717 54.737-53.942 82.063-80.976-146.242 0-292.337-0.773-438.557 0.397-68.274 1.18-129.445 60.898-130.614 129.403-0.272 184.515-0.793 368.895 0.25 553.399 0.272 66.414 56.7 124.012 122.091 130.322l574.541 0c61.944-10.884 115.115-64.972 115.907-129.403 1.839-146.576 0.399-293.297 0.649-439.883zM859.669 290.243c-43.058-43.309-86.365-86.357-129.946-129.142-95.309 94.619-190.867 188.987-285.63 284.128 42.91 43.182 86.094 86.22 129.674 128.871 95.433-94.484 190.718-189.238 285.902-283.856zM373.604 643.78c58.392-15.877 89.499-25.874 147.911-41.616 15.607-4.973 25.989-7.98 33.992-11.167-41.345-39.369-88.852-87.891-130.072-127.523-17.32 60.106-34.534 120.201-51.832 180.305z","p-id":"2079",fill:"#ffffff"}))),n.writing&&(0,i.h)("div",{style:{marginTop:"5px"}},(0,i.h)("a",{className:r.default.delete,onclick:function(){return t.remove(o)},title:"删除"},(0,i.h)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"20",height:"20"},(0,i.h)("path",{d:"M223.595474 318.284043l24.022113 480.742089c0 54.376445 44.989657 98.456383 100.485599 98.456383l331.963601 0c55.494918 0 100.489692-44.078914 100.489692-98.456383l23.109324-480.742089L223.595474 318.284043zM831.749418 284.181341c0.099261-20.274766 0.158612-21.623483 0.158612-22.981411 0-52.871161-31.298843-81.888032-73.29533-81.888032l-116.892267 0.122797c0-27.751041-27.105335-50.245358-54.855352-50.245358L441.349917 129.189338c-27.744901 0-55.727209 22.494317-55.727209 50.245358l-117.013017-0.122797c-46.387493 0-73.29533 35.359322-73.29533 81.888032 0 1.363044 0.054235 2.706645 0.158612 22.981411l636.281561 0L831.749418 284.181341zM614.168937 444.615287c0-15.32708 12.421914-27.750017 27.744901-27.750017 15.32708 0 27.750017 12.422937 27.750017 27.750017l0 317.882907c0 15.328104-12.422937 27.751041-27.750017 27.751041-15.322987 0-27.744901-12.422937-27.744901-27.751041L614.168937 444.615287 614.168937 444.615287zM485.85862 444.615287c0-15.32708 12.42703-27.750017 27.751041-27.750017 15.32708 0 27.750017 12.422937 27.750017 27.750017l0 317.882907c0 15.328104-12.422937 27.751041-27.750017 27.751041-15.322987 0-27.751041-12.422937-27.751041-27.751041L485.85862 444.615287 485.85862 444.615287zM357.63733 444.615287c0-15.32708 12.422937-27.750017 27.751041-27.750017 15.321964 0 27.750017 12.422937 27.750017 27.750017l0 317.882907c0 15.328104-12.42703 27.751041-27.750017 27.751041-15.328104 0-27.751041-12.422937-27.751041-27.751041L357.63733 444.615287 357.63733 444.615287zM357.63733 444.615287",fill:"#fff"}))),(0,i.h)("span",null,(0,i.h)("span",{style:{fontSize:"12px",color:"#bbb"}}," Tip:放弃保存请点击左上角，关闭编辑窗口"),(0,i.h)("a",{style:{float:"right",height:"20px",background:"#fff",borderRadius:"5px"},href:"javascript:;",title:"保存",onclick:function(){var e=void 0!=n.modify?n.modify:n.tip,i=n.tip;n.tip=e;var r=t.makelink(),o=void 0==r;!o&&alert(r),n.writing=!o,n.tip=o?e:i,l.refershState()}},(0,i.h)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"20",height:"20"},(0,i.h)("path",{d:"M725.333333 128 213.333333 128C166.4 128 128 166.4 128 213.333333l0 597.333333c0 46.933333 38.4 85.333333 85.333333 85.333333l597.333333 0c46.933333 0 85.333333-38.4 85.333333-85.333333L896 298.666667 725.333333 128zM512 810.666667c-72.533333 0-128-55.466667-128-128s55.466667-128 128-128c72.533333 0 128 55.466667 128 128S584.533333 810.666667 512 810.666667zM640 384 213.333333 384 213.333333 213.333333l426.666667 0L640 384z",fill:"#949494"})))))))};(0,i.app)(e,l,function(e,l){return(0,i.h)("div",{id:r.default.easyshareContainer,oncreate:function(){t.onStateChange=l.refershState,setTimeout(function(){l.refershState()},0)}},(0,i.h)("div",{style:{position:"absolute",left:e.targetInfo.x+"px",top:e.targetInfo.y+"px",transition:".5s",userSelect:"none"}},(e.status===n.WAITING||e.status===n.PLAYANDWAIT)&&(0,i.h)(a,{status:e.status,onclick:function(e){!function(e,n){e.stopPropagation(),e.preventDefault();var i=(0,o.getViewPosition)(e.currentTarget),r=i.top,l=i.left,a=(0,o.getViewPosition)(document.getElementById("easyshare-menu")),u=a.top,s=a.left,c=(u/s-r/l)/(s-l),f=u/s-c*s;n.toggleShowBall(!0);var d=setInterval(function(){l<=s?(r=c*(l+=s-l<=10?1:30)*l+f*l,n.setBallPos({left:l,top:r})):(n.toggleShowBall(!1),t.record(),clearInterval(d))},10)}(e,l)}})),(0,i.h)("div",{className:r.default.recordBall+" "+(e.showBall?r.default.recording:""),style:{top:e.ballPos.top+"px",left:e.ballPos.left+"px"}}),e.steps.map(function(t,e){return(0,i.h)(c,{key:e,step:t,index:e,actions:l})}),(0,i.h)("aside",{style:{position:"fixed",right:0,top:window.innerHeight/2-15*(e.steps.length+1)/2+"px"}},(0,i.h)("div",{style:{position:"relative",right:"6px"}},e.steps.map(function(t,n){return(0,i.h)(s,{key:n,step:t,running:n===e.runindex,index:n})})),(0,i.h)(u,{state:e,actions:l})))},document.body)};var i=n(5),r=function(t){return t&&t.__esModule?t:{default:t}}(n(6)),o=n(0)},function(t,e,n){"use strict";function i(t,e){for(var n=[],i=[],r=arguments.length;r-- >2;)n.push(arguments[r]);for(;n.length;){var o=n.pop();if(o&&o.pop)for(r=o.length;r--;)n.push(o[r]);else null!=o&&!0!==o&&!1!==o&&i.push(o)}return"function"==typeof t?t(e||{},i):{nodeName:t,attributes:e||{},children:i,key:e&&e.key}}function r(t,e,n,i){var r,o=[].map,l=i&&i.children[0]||null,a=l&&function t(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:o.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:t(e)})}}(l),u=[],s=!0,c=g(t),f=function t(e,n,i){for(var r in i)"function"==typeof i[r]?function(t,r){i[t]=function(t){var o=r(t);return"function"==typeof o&&(o=o(y(e,c),i)),o&&o!==(n=y(e,c))&&!o.then&&p(c=v(e,g(n,o),c)),o}}(r,i[r]):t(e.concat(r),n[r]=g(n[r]),i[r]=g(i[r]));return i}([],c,g(e));return p(),f;function d(t){return"function"==typeof t?d(t(c,f)):null!=t?t:""}function h(){r=!r;var t=d(n);for(i&&!r&&(l=function t(e,n,i,r,o){if(r===i);else if(null==i||i.nodeName!==r.nodeName){var l=function t(e,n){var i="string"==typeof e||"number"==typeof e?document.createTextNode(e):(n=n||"svg"===e.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName);var r=e.attributes;if(r){r.oncreate&&u.push(function(){r.oncreate(i)});for(var o=0;o<e.children.length;o++)i.appendChild(t(e.children[o]=d(e.children[o]),n));for(var l in r)x(i,l,r[l],null,n)}return i}(r,o);e.insertBefore(l,n),null!=i&&b(e,n,i),n=l}else if(null==i.nodeName)n.nodeValue=r;else{!function(t,e,n,i){for(var r in g(e,n))n[r]!==("value"===r||"checked"===r?t[r]:e[r])&&x(t,r,n[r],e[r],i);var o=s?n.oncreate:n.onupdate;o&&u.push(function(){o(t,e)})}(n,i.attributes,r.attributes,o=o||"svg"===r.nodeName);for(var a={},c={},f=[],h=i.children,p=r.children,v=0;v<h.length;v++){f[v]=n.childNodes[v];var y=m(h[v]);null!=y&&(a[y]=[f[v],h[v]])}for(var v=0,w=0;w<p.length;){var y=m(h[v]),E=m(p[w]=d(p[w]));if(c[y])v++;else if(null==E||E!==m(h[v+1]))if(null==E||s)null==y&&(t(n,f[v],h[v],p[w],o),w++),v++;else{var N=a[E]||[];y===E?(t(n,N[0],N[1],p[w],o),v++):N[0]?t(n,n.insertBefore(N[0],f[v]),N[1],p[w],o):t(n,f[v],null,p[w],o),c[E]=p[w],w++}else null==y&&b(n,f[v],h[v]),v++}for(;v<h.length;)null==m(h[v])&&b(n,f[v],h[v]),v++;for(var v in a)c[v]||b(n,a[v][0],a[v][1])}return n}(i,l,a,a=t)),s=!1;u.length;)u.pop()()}function p(){r||(r=!0,setTimeout(h))}function g(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n}function v(t,e,n){var i={};return t.length?(i[t[0]]=t.length>1?v(t.slice(1),e,n[t[0]]):e,g(n,i)):e}function y(t,e){for(var n=0;n<t.length;)e=e[t[n++]];return e}function m(t){return t?t.key:null}function w(t){return t.currentTarget.events[t.type](t)}function x(t,e,n,i,r){if("key"===e);else if("style"===e)if("string"==typeof n)t.style.cssText=n;else for(var o in"string"==typeof i&&(i=t.style.cssText=""),g(i,n)){var l=null==n||null==n[o]?"":n[o];"-"===o[0]?t.style.setProperty(o,l):t.style[o]=l}else"o"===e[0]&&"n"===e[1]?(e=e.slice(2),t.events?i||(i=t.events[e]):t.events={},t.events[e]=n,n?i||t.addEventListener(e,w):t.removeEventListener(e,w)):e in t&&"list"!==e&&"type"!==e&&"draggable"!==e&&"spellcheck"!==e&&"translate"!==e&&!r?t[e]=null==n?"":n:null!=n&&!1!==n&&t.setAttribute(e,n),null!=n&&!1!==n||t.removeAttribute(e)}function b(t,e,n){function i(){t.removeChild(function t(e,n){var i=n.attributes;if(i){for(var r=0;r<n.children.length;r++)t(e.childNodes[r],n.children[r]);i.ondestroy&&i.ondestroy(e)}return e}(e,n))}var r=n.attributes&&n.attributes.onremove;r?r(e,i):i()}}n.r(e),n.d(e,"h",function(){return i}),n.d(e,"app",function(){return r})},function(t,e,n){t.exports={easyshareContainer:"zX5",box:"_3Dr",point:"zzj",active:"QVz",edit:"_1Dn",delete:"_2kz",menu:"_3lO",stepSign:"_3ls",running:"_23u",isActive:"T7x",recordBall:"_3P0",recording:"_1k7"}},function(t,e,n){"use strict";function i(t){var e=t.getBoundingClientRect(),n=document.body,i=document.documentElement,r=window.pageYOffset||i.scrollTop||n.scrollTop,o=window.pageXOffset||i.scrollLeft||n.scrollLeft,l=i.clientTop||n.clientTop||0,a=i.clientLeft||n.clientLeft||0,u=e.top+r-l,s=e.left+o-a;return{top:Math.round(u),left:Math.round(s)}}n.r(e);var r=window.document,o=function(){},l=function(){var t=function(e){this.options=Object.assign({},{draw:!0,simpleId:!0},e),this.lastClick=document.body;var n=this;document.addEventListener("mousedown",function(e){n.lastClick=e.target,n.focusedElement!==n.lastClick&&t.prototype.clean()})};return t}(),a=l.prototype;a.getUniqueId=function(t,e){if(!((t=t||this.lastClick)instanceof HTMLElement))return console.error("input is not a HTML element"),{};var n={wid:"",type:"",top:i(t).top,left:i(t).left,viewLeft:t.getBoundingClientRect().left,viewTop:t.getBoundingClientRect().top,text:t.innerText},o=t.id,u=t.name,s=t.tagName.toLowerCase(),c=t.type?t.type.toLowerCase():"",f="",d=t.classList||[];if(d.forEach(function(t){f+="."+t}),"body"!==s&&"html"!==s||(n.wid=s,n.type=s),o&&r.getElementById(o)===t){var h=new RegExp("^[a-zA-Z]+");!e&&this.options.simpleId?n.wid=o:h.test(o)&&(n.wid=s+"#"+o),n.type="document.getElementById()"}if(!n.wid&&u&&r.getElementsByName(u)[0]===t&&(n.wid=u,n.type="document.getElementsByName()"),!n.wid&&f&&r.querySelector(s+f)===t){n.wid=s+f,n.type="document.querySelector()";var p=d.length;if(p>2){for(var g=1,v=[];Math.pow(2,g)<p;)v.push(Math.pow(2,g)),g++;v.push(p);for(var y=0;y<v.length;y++)v[y]}}if("radio"===c){var m=s+"[value='"+t.value+"']";u&&(m+="[name='"+u+"']"),r.querySelector(m)===t&&(n.wid=m,n.type="document.querySelector()")}if(n.wid||(m=s,m=f?m+f:m,m=u?m+"[name='"+u+"']":m,a.getTarget(m)===t&&(n.wid=m,n.type="document.querySelector()")),!n.wid){m=s,m=f?m+f:m;var w=r.querySelectorAll(m);if(w&&w.length>0){for(var x=null,b=0;b<w.length;b++)if(t===w[b]){x=b+1;break}x&&(m=m+":nth-child("+x+")",r.querySelector(m)===t&&(n.wid=m,n.type="document.querySelector()"))}}if(!n.wid){if(!t.parentNode)return;var E=l.prototype.getUniqueId(t.parentNode,!0),N=E?E.wid:"";if(!N)return{wid:"",type:"NO_LOCATION"};var T=s;if(f&&(T+=f),m=N+">"+T,r.querySelectorAll(m).length>1){m=null;x=null;for(var S=0;S<t.parentNode.children.length;S++)if(t.parentNode.children[S]===t){x=S+1;break}if(x>=1)m=N+">"+T+":nth-child("+x+")",r.querySelector(m)!=t&&(m=null)}n.wid=m,n.type="document.querySelector()"}return this.focusedElement=a.getTarget(n.wid),!e&&this.options.draw&&this.__proto__.draw(n),n},a.getTarget=function(t){return r.getElementById(t)||r.getElementsByName(t)[0]||r.querySelector(t)},a.clean=o,a.draw=o,window.whatsElement=l;e.default=l}]);
//# sourceMappingURL=easyshare.js.map