!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SHARENAME:"easyshare",WAITING:"WAITING",INITCOMPELETE:"INITCOMPELETE",RECORDING:"RECORDING",PAUSE:"PAUSE",RECORDED:"RECORDED",FINNISHED:"FINNISHED",REPLAYING:"REPLAYING",PLAYANDWAIT:"REPLAYINGANDWAITING",REPLAYFINISHED:"REPLAYFINISHED"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=i(n(2)),o=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=new r.default(e);return(0,o.default)(t),t}window.EasyShare=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;this.options=Object.assign({autoReplay:!0,hightligth:!0},e),this.recordedSteps=[],this.runindex=null,this.mPos={x:0,y:0};var n=o.default.PAUSE,i={},a=o.default.SHARENAME;window.addEventListener("load",function(e){var n=window.location.search;if(-1!==n.indexOf(a))for(var r=n.substr(1).split("&"),i=0;i<r.length;i++){var l=r[i];if(l.indexOf(a)>-1){var u=l.split("=");2===u.length&&function(){var e=[];u[1].split("a").forEach(function(t){var n={x:t.split("-")[0],y:t.split("-")[1]};e.push(n)}),t.status=o.default.INITCOMPELETE,t.recordedSteps=e}();break}}}),document.addEventListener(u,function(e){var n=document.getSelection().toString().trim();if(n!==i.text)if(n){var u=(0,r.getXY)(e),a=u.x,s=u.y,d=(0,r.getScroll)(),c=d.x,f=d.y;t.mPos={x:a,y:s},i={x:c,y:f,text:n,id:l.getUniqueId(e.target).wid},t.status=t.status===o.default.REPLAYING||t.status===o.default.PLAYANDWAIT?o.default.PLAYANDWAIT:o.default.WAITING}else i={},t.status=o.default.PAUSE}),this.onStateChange=function(){},this.record=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.status==o.default.WAITING?(this.status=o.default.RECORDING,this.recordedSteps.push(i),this.status=o.default.RECORDED,!0):(console.log("当前状态不可记录"),!1)};var s=null,d=null;this.replay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;if((t=t||this.recordedSteps).length<e+1)return this.runindex=null,void(this.status=o.default.REPLAYFINISHED);var a=t[e],c=a.x,f=a.y,p=a.id,h=l.getTarget(p);h&&this.options.hightligth&&(0,r.hightLightElement)(h),this.runindex=e,this.status=o.default.REPLAYING,clearInterval(d),d=(0,r.gotoPosition)(c,f,function(){i?s=setTimeout(function(){return n.replay(e+1,t)},u):(n.status=o.default.REPLAYFINISHED,clearTimeout(s))})},this.makelink=function(){if(0!==t.recordedSteps.length){var e="&"+a+"=",n=window.location.href,r=n.indexOf("&"+a);t.recordedSteps.forEach(function(t,n){0!=n&&(e+="a"),e+=t.x+"-"+t.y}),""==window.location.search&&(n+="?"),r>-1&&(n=n.substr(0,r)),t.options.autoReplay&&(e+="&autoreplay=true"),history.pushState("",a,n+e)}},Object.defineProperty(this,"status",{get:function(){return n},set:function(e){n=e,t.onStateChange(n)}}),Object.defineProperty(this,"version",{value:"0.0.2"})};var r=n(3),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var l=new(i(n(4)).default)({draw:!1}),u="ontouchstart"in window?"touchend":"mouseup"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="ontouchstart"in window?function(e){var t=e.touches[0]||e.changedTouches[0];return t?{x:t.pageX,y:t.pageY}:{x:0,y:0}}:function(e){return{x:(e=event||window.event).pageX||e.clientX+i().x,y:e.pageY||e.clientY+i().y}},o=document.documentElement||document.body;function i(){return{x:o.scrollLeft||o.scrollLeft,y:o.scrollTop||o.scrollTop}}t.gotoPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=setInterval(function(){var l=i(),u=l.x,a=l.y,s=e-u,d=t-a;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o.scrollLeft=o.scrollLeft=e,o.scrollTop=o.scrollTop=t}(u+Math.floor(s/6),Math.floor(a+d/6));var c=i(),f=c.x;a===c.y&&u===f&&(clearInterval(r),"function"==typeof n&&n())},30);return r},t.getXY=r,t.hightLightElement=function(e){e.style.background="#e8d2bb"},t.getScroll=i},function(e,t,n){var r=n(5);e.exports=r},function(e,t,n){var r;!function(o,i){var l=o.document,u="whats-element",a=u+"-tip-container",s=u+"-tip-delete",d=u+"-copy",c=u+"-unique-container",f=u+"-unique-id",p=function(e){this.options=Object.assign({},{draw:!0},e),this.lastClick=l.body;var t=this;l.addEventListener("mousedown",function(e){t.lastClick=e.target,t.focusedElement!==t.lastClick&&h.clean()})},h=p.prototype;function v(){l.querySelectorAll("."+u+"-active").forEach(function(e){e.classList.remove(u+"-active")})}function y(e,t){var n=l.createElement(e||"div");return t&&(n.id=t),n}h.getUniqueId=function(e,t){if(!((e=e||this.lastClick)instanceof HTMLElement))return console.error("invalid input,not a HTML element"),null;var n={wid:"",type:""},r=e.id,o=e.name,i=e.tagName.toLowerCase(),u=e.type?e.type.toLowerCase():"",a="";if((e.classList||[]).forEach(function(e){a+="."+e}),"body"!==i&&"html"!==i||(n.wid=i,n.type=i),r&&l.getElementById(r)===e){var s=new RegExp("^[a-zA-Z]+");t?s.test(r)&&(n.wid=i+"#"+r):n.wid=r,n.type="byId"}if(!n.wid&&o&&l.getElementsByName(o)[0]===e&&(n.wid=o,n.type="byName"),!n.wid&&a&&l.querySelector(i+a)===e&&(n.wid=i+a,n.type="byClass"),"radio"===u){var d=i+"[value='"+e.value+"']";o&&(d+="[name='"+o+"']"),l.querySelector(d)===e&&(n.wid=d,n.type="byValue")}if(n.wid||(d=i,d=a?d+a:d,d=o?d+"[name='"+o+"']":d,h.getTarget(d)===e&&(n.wid=d,n.type="byMixed")),!n.wid){d=i,d=a?d+a:d;var c=l.querySelectorAll(d);if(c&&c.length>0){for(var f=null,v=0;v<c.length;v++)if(e===c[v]){f=v+1;break}f&&(d=d+":nth-child("+f+")",l.querySelector(d)===e&&(n.wid=d,n.type="byOrder"))}}if(!n.wid){var y=p.prototype.getUniqueId(e.parentNode,!0).wid;if(!y)return;var g=i;if(a&&(g+=a),d=y+">"+g,l.querySelectorAll(d).length>1){d=null,f=null;for(var x=0;x<e.parentNode.children.length;x++)if(e.parentNode.children[x]===e){f=x+1;break}f>=1&&(d=y+">"+g+":nth-child("+f+")",l.querySelector(d)!=e&&(d=null))}n.wid=d,n.type="byParent"}return this.focusedElement=h.getTarget(n.wid),!t&&this.options.draw&&p.prototype.draw(n),n},h.getTarget=function(e){return l.getElementById(e)||l.getElementsByName(e)[0]||l.querySelector(e)},h.draw=function(e){var t=h.getTarget(e.wid);if(t){var n=l.getElementById(a)?l.getElementById(a):y("aside",a);n.innerHTML="",n.addEventListener("mousedown",function(e){e.stopPropagation()});var r=y("div",s);r.innerText="x",r.onclick=function(e){e.stopPropagation(),p.prototype.clean()},n.appendChild(r);var i=y("div",c),u=y("input",f);u.readOnly=!0,u.className=e.type,u.value=e.wid;var g=y("div",d);g.setAttribute("query-type",e.type),g.innerText="复制",g.onclick=function(){u.select(),l.execCommand("Copy")},i.appendChild(u),i.appendChild(g),n.appendChild(i);var x=t.getBoundingClientRect().top+t.offsetHeight,b=t.getBoundingClientRect().left+o.screenX,m=b<100?b:b-(240|n.offsetWidth)/2+t.offsetWidth/2-l.body.getBoundingClientRect().left;n.style.left=m+"px",n.style.top=x+o.scrollY+10+"px",l.body.appendChild(n),v(),t.classList.add("whats-element-active")}else console.error("no this element:"+e.wid)},h.clean=function(){v();var e=l.getElementById(a);e&&(e.outerHTML="")},void 0!==o&&null!==o&&(o.whatsElement=p),void 0!==o&&null!==o||(this.whatsElement=p),void 0!==e&&e.exports&&(e.exports=p),void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r);var g=y("style"),x="#"+a+"{position:absolute;color:#8ed3fb;font-size:14px;z-index:1000;background-color:rgba(255, 255, 255,0.9);box-sizing:border-box;box-shadow:rgba(0, 0, 0, 0.2) 0px 1px 10px 3px;padding: 10px 20px;border-radius: 36px;}";x+="#"+s+"{cursor:pointer;position:absolute;top:-10px;width:20px;height: 20px;left:calc(50% - 8px);text-align:center;clip-path: polygon(50% 0,100% 50%,50% 100%,0 50%);background:#fff;}",x+="#"+s+":hover{background:#fffbf0}",x+="#"+c+"{display:flex;justify-content:space-around;}",x+="#"+f+"{border:1px solid #d1d5da;box-shadow:inset 0 1px 2px rgba(27,31,35,0.075);text-indent:10px;}",x+="#"+d+"{background:aliceblue;cursor: pointer;}",x+="#"+d+"::after{position:absolute;z-index:1000000;padding: 0.1em 0.75em;color: #fff;text-align:center;text-shadow:none;text-transform:none;content:attr(query-type);background: #a88462;border-radius: 3px;opacity: 0;transition:all .5s}",x+="#"+d+":hover:after{display:inline-block;opacity: 1;}",x+=".whats-element-active{outline:red 1px dashed !important}",g.innerText=x,l.head.appendChild(g),o.whatsElement=p}(window)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={status:"",recordedSteps:e.recordedSteps,mPos:{},runindex:null},n={refershState:function(t){return function(t){return{status:e.status,recordedSteps:e.recordedSteps,mPos:{x:e.mPos.x,y:e.mPos.y},runindex:e.runindex}}}},l=function(e){var t=e.status,n=e.onclick;return(0,r.h)("button",{onclick:n},t)},u=function(t){var n,o=t.step,l=t.running,u=void 0!==l&&l,a=t.index;return(0,r.h)("span",{style:(n={display:"block",position:"absolute",right:u?"10px":"0px",top:u?15*a+"px":15*a+8+"px"},i(n,"right",u?"10px":"0px"),i(n,"width",u?"20px":"8px"),i(n,"height",u?"20px":"8px"),i(n,"background",u?"red":"pink"),i(n,"overflow","hidden"),i(n,"borderRadius","50%"),i(n,"textAlign","center"),i(n,"transition",".5s"),i(n,"cursor","pointer"),n),onclick:function(){e.replay(a,null,!1)}},u&&o.text?o.text.substr(0,1):"")};(0,r.app)(t,n,function(t,n){return(0,r.h)("div",{oncreate:function(){e.onStateChange=function(){n.refershState()},function(t){setTimeout(function(){t.refershState(),window.location.search.indexOf("autoreplay")>-1&&e.replay()},1e3)}(n)}},(0,r.h)("div",{style:{position:"absolute",left:t.mPos.x+"px",top:t.mPos.y+"px",transition:".5s"}},(t.status===o.default.WAITING||t.status===o.default.PLAYANDWAIT)&&(0,r.h)("span",null,(0,r.h)(l,{status:t.status,onclick:function(){!function(t){e.record(),t.refershState()}(n)}}))),(0,r.h)("aside",{style:{position:"fixed",top:"40px",right:"10px"}},(0,r.h)("div",{style:{position:"relative"}},t.recordedSteps.map(function(e,n){return(0,r.h)(u,{step:e,running:n===t.runindex,index:n})}),t.recordedSteps.length>0&&(0,r.h)("button",{onclick:e.makelink,style:{position:"absolute",right:0,top:15*t.recordedSteps.length+"px"}},"生成链接"))))},document.body)};var r=n(7),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";function r(e,t){for(var n=[],r=[],o=arguments.length;o-- >2;)n.push(arguments[o]);for(;n.length;){var i=n.pop();if(i&&i.pop)for(o=i.length;o--;)n.push(i[o]);else null!=i&&!0!==i&&!1!==i&&r.push(i)}return"function"==typeof e?e(t||{},r):{nodeName:e,attributes:t||{},children:r,key:t&&t.key}}function o(e,t,n,r){var o,i=[].map,l=r&&r.children[0]||null,u=l&&function e(t){return{nodeName:t.nodeName.toLowerCase(),attributes:{},children:i.call(t.childNodes,function(t){return 3===t.nodeType?t.nodeValue:e(t)})}}(l),a=[],s=!0,d=v(e),c=function e(t,n,r){for(var o in r)"function"==typeof r[o]?function(e,o){r[e]=function(e){var i=o(e);return"function"==typeof i&&(i=i(g(t,d),r)),i&&i!==(n=g(t,d))&&!i.then&&h(d=y(t,v(n,i),d)),i}}(o,r[o]):e(t.concat(o),n[o]=v(n[o]),r[o]=v(r[o]));return r}([],d,v(t));return h(),c;function f(e){return"function"==typeof e?f(e(d,c)):null!=e?e:""}function p(){o=!o;var e=f(n);for(r&&!o&&(l=function e(t,n,r,o,i){if(o===r);else if(null==r||r.nodeName!==o.nodeName){var l=function e(t,n){var r="string"==typeof t||"number"==typeof t?document.createTextNode(t):(n=n||"svg"===t.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",t.nodeName):document.createElement(t.nodeName),o=t.attributes;if(o){o.oncreate&&a.push(function(){o.oncreate(r)});for(var i=0;i<t.children.length;i++)r.appendChild(e(t.children[i]=f(t.children[i]),n));for(var l in o)m(r,l,o[l],null,n)}return r}(o,i);t.insertBefore(l,n),null!=r&&w(t,n,r),n=l}else if(null==r.nodeName)n.nodeValue=o;else{!function(e,t,n,r){for(var o in v(t,n))n[o]!==("value"===o||"checked"===o?e[o]:t[o])&&m(e,o,n[o],t[o],r);var i=s?n.oncreate:n.onupdate;i&&a.push(function(){i(e,t)})}(n,r.attributes,o.attributes,i=i||"svg"===o.nodeName);for(var u={},d={},c=[],p=r.children,h=o.children,y=0;y<p.length;y++){c[y]=n.childNodes[y],null!=(b=x(p[y]))&&(u[b]=[c[y],p[y]])}y=0;for(var g=0;g<h.length;){var b=x(p[y]),E=x(h[g]=f(h[g]));if(d[b])y++;else if(null==E||E!==x(p[y+1]))if(null==E||s)null==b&&(e(n,c[y],p[y],h[g],i),g++),y++;else{var N=u[E]||[];b===E?(e(n,N[0],N[1],h[g],i),y++):N[0]?e(n,n.insertBefore(N[0],c[y]),N[1],h[g],i):e(n,c[y],null,h[g],i),d[E]=h[g],g++}else null==b&&w(n,c[y],p[y]),y++}for(;y<p.length;)null==x(p[y])&&w(n,c[y],p[y]),y++;for(var y in u)d[y]||w(n,u[y][0],u[y][1])}return n}(r,l,u,u=e)),s=!1;a.length;)a.pop()()}function h(){o||(o=!0,setTimeout(p))}function v(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function y(e,t,n){var r={};return e.length?(r[e[0]]=e.length>1?y(e.slice(1),t,n[e[0]]):t,v(n,r)):t}function g(e,t){for(var n=0;n<e.length;)t=t[e[n++]];return t}function x(e){return e?e.key:null}function b(e){return e.currentTarget.events[e.type](e)}function m(e,t,n,r,o){if("key"===t);else if("style"===t)if("string"==typeof n)e.style.cssText=n;else for(var i in"string"==typeof r&&(r=e.style.cssText=""),v(r,n)){var l=null==n||null==n[i]?"":n[i];"-"===i[0]?e.style.setProperty(i,l):e.style[i]=l}else"o"===t[0]&&"n"===t[1]?(t=t.slice(2),e.events?r||(r=e.events[t]):e.events={},e.events[t]=n,n?r||e.addEventListener(t,b):e.removeEventListener(t,b)):t in e&&"list"!==t&&"type"!==t&&"draggable"!==t&&"spellcheck"!==t&&"translate"!==t&&!o?e[t]=null==n?"":n:null!=n&&!1!==n&&e.setAttribute(t,n),null!=n&&!1!==n||e.removeAttribute(t)}function w(e,t,n){function r(){e.removeChild(function e(t,n){var r=n.attributes;if(r){for(var o=0;o<n.children.length;o++)e(t.childNodes[o],n.children[o]);r.ondestroy&&r.ondestroy(t)}return t}(t,n))}var o=n.attributes&&n.attributes.onremove;o?o(t,r):r()}}n.r(t),n.d(t,"h",function(){return r}),n.d(t,"app",function(){return o})}]);
//# sourceMappingURL=easyshare.js.map